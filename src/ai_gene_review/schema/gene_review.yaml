id: https://ai4curation.io/ai-gene-review
name: gene_review
description: Schema for gene curation
  Top level entity is a GeneReview, which is about a single gene (and its equivalent swiss-prot entry).
  It contains a high level summary of the gene, plus a review of all existing annotations.
  It also contains a list of core functions, which are GO-CAM-like annotons describing the core evolved
  functions of the gene.
  

prefixes:
  linkml: https://w3id.org/linkml/
  gene_review: https://w3id.org/ai4curation/gene_review/
  xsd: http://www.w3.org/2001/XMLSchema#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  owl: http://www.w3.org/2002/07/owl#
  skos: http://www.w3.org/2004/02/skos/core#
  dcat: http://www.w3.org/ns/dcat#
  dcterms: http://purl.org/dc/terms/
  ECO: http://purl.obolibrary.org/obo/ECO_
  IAO: http://purl.obolibrary.org/obo/IAO_
  SO: http://purl.obolibrary.org/obo/SO_

imports:
  - linkml:types

default_prefix: gene_review
default_range: string

slots:
  id:
    identifier: true
  label:
    description: Human readable name of the entity
    required: true
    slot_uri: rdfs:label
  gene_symbol:
    range: string
    description: Symbol of the gene
    required: true
  product_type:
    range: ProductTypeEnum
    description: Type of gene product (protein, ncRNA, etc.)
    required: false
    comments:
      - currently not required, assumed PROTEIN by default, but this may be explicit in future
  title:
    range: string
    description: Title of the entity
    slot_uri: dcterms:title
    required: true
  aliases:
    range: string
    multivalued: true
  tags:
    range: string
    multivalued: true
    description: Tags associated with the gene for categorization and organization
  description:
    description: Description of the entity
    slot_uri: dcterms:description
  statement:
    range: string
    description: Concise statement describing an aspect of the gene
  references:
    range: Reference
    multivalued: true
    inlined_as_list: true
  findings:
    range: Finding
    multivalued: true
  supported_by:
    range: SupportingTextInReference
    multivalued: true
  summary:
    range: string
    description: Summary of the review
  supporting_text:
    range: string
    description: Supporting text from the publication.
      This should be exact substrings. Different substrings can be broken up by '...'s. These substrings will be checked against the actual
      text of the paper. If editorialization is necessary, put this in square brackets (this is not checked). For example, you can say
      '...[CFAP300 shows] transport within cilia is IFT dependent...'
  full_text_unavailable:
    range: boolean
    description: Whether the full text is unavailable
  evidence_type:
    range: EvidenceType
    description: Evidence code (e.g., IDA, IBA, ISS, TAS)
  term:
    inlined: true
    range: Term
    description: Term to be annotated
  predicate:
    range: string
    description: Predicate of the extension
    slot_uri: rdf:predicate
  taxon:
    range: Term
    inlined: true
  existing_annotations:
    range: ExistingAnnotation
    multivalued: true
  core_functions:
    range: CoreFunction
    multivalued: true
  action:
    range: ActionEnum
    description: Action to be taken
  reason:
    range: string
    description: Reason for the action
  proposed_replacement_terms:
    range: Term
    multivalued: true
    inlined_as_list: true
    description: Proposed replacement terms
  extensions:
    range: AnnotationExtension
    multivalued: true
  negated:
    range: boolean
    description: Whether the term is negated
  reference_id:
    range: Reference
    inlined: false
  original_reference_id:
    range: Reference
    inlined: false
    description: ID of the original reference
  retired:
    range: boolean
    description: Whether the annotation is retired or replaced
  review:
    recommended: true
    range: Review
    description: Review of the gene
  ontology:
    range: string
    description: Ontology of the term. E.g `go`, `cl`, `hp`
  supporting_entities:
    range: string
    multivalued: true
    description: IDs of the supporting entities
  additional_reference_ids:
    range: Reference
    multivalued: true
    inlined: false
    description: IDs of the references
  is_invalid:
    range: boolean
    description: Whether the reference is invalid (e.g., retracted or replaced)
  reference_section_type:
    range: ManuscriptSection
    description: Type of section in the reference (e.g., 'ABSTRACT', 'METHODS', 'RESULTS', 'DISCUSSION')
  proposed_new_terms:
    range: ProposedOntologyTerm
    multivalued: true
    description: Proposed new ontology terms that should exist but don't
  suggested_questions:
    range: Question
    multivalued: true
    description: Suggested questions to ask experts about the gene. Only include if not obvious from the literature.
  suggested_experiments:
    range: Experiment
    multivalued: true
  

classes:

  GeneReview:
    description: Complete review for a gene
    tree_root: true
    slots:
     - id
     - gene_symbol
     - product_type
     - aliases
     - tags
     - description
     - taxon
     - references
     - existing_annotations
     - core_functions
     - proposed_new_terms
     - suggested_questions
     - suggested_experiments


  Term:
    description: A term in a specific ontology
    slots:
      - id
      - label
      - description
      - ontology
    slot_usage:
      id:
        description: An OBO CURIE for a term in GO, CL, CHEBI, etc.
      label:
        description: the term name

  Reference:
    description: A reference is a published text  that describes a finding or a method. References
      might be formal publications (where the ID is a PMID), or for methods, a GO_REF. Additionally,
      a reference to a local ad-hoc analysis or review can be made by using the `file:` prefix.
    slots:
      - id
      - title
      - findings
      - is_invalid
      - full_text_unavailable

  Finding:
    description: A finding is a statement about a gene, which is supported by a reference.
      Similar to "comments" in uniprot
    slots:
      - statement
      - supporting_text
      - full_text_unavailable
      - reference_section_type

  SupportingTextInReference:
    description: A supporting text in a reference.
    slots:
      - reference_id
      - supporting_text
      - full_text_unavailable
      - reference_section_type
        

  ExistingAnnotation:
    description: An existing annotation from the GO database, plus a review of the annotation.
    slots:
      - term
      - extensions
      - negated
      - evidence_type 
      - original_reference_id
      - retired
      - supporting_entities
      - review
    slot_usage:
      term:
        bindings:
          - binds_value_of: id
            range: GOTermEnum
            obligation_level: REQUIRED

  Review:
    description: A review of an existing annotation.
    slots:
      - summary
      - action
      - reason
      - proposed_replacement_terms
      - additional_reference_ids
      - supported_by
    rules:
      - preconditions:
          slot_conditions:
            action:
              equals_string: MODIFY
        postconditions:
          slot_conditions:
            proposed_replacement_terms:
              required: true
        
  CoreFunction:
    description: A core function is a GO-CAM-like annotation of the core evolved functions of a gene.
      This is a synthesis of the reviewed core annotations, brought together into a unified GO-CAM-like
      representation.
    attributes:
      description:
        range: string
        description: Description of the core function
      supported_by:
        range: SupportingTextInReference
        multivalued: true
      molecular_function:
        range: Term
        inlined: true
        required: true
        bindings:
          - binds_value_of: id
            range: GOMolecularActivityEnum
            obligation_level: REQUIRED
      directly_involved_in:
        range: Term
        multivalued: true
        inlined_as_list: true
      locations :
        range: Term
        multivalued: true
        inlined_as_list: true
        bindings:
          - binds_value_of: id
            range: GOCellularLocationEnum
            obligation_level: REQUIRED
      anatomical_locations:
        range: Term
        multivalued: true
        inlined_as_list: true
      substrates: 
        range: Term
        multivalued: true
        inlined_as_list: true
      in_complex:
        range: Term
        inlined: true
        bindings:
          - binds_value_of: id
            range: GOProteinContainingComplexEnum
            obligation_level: REQUIRED
  AnnotationExtension:
    slots:
      - predicate
      - term
    slot_usage:
      predicate:
        bindings:
          - binds_value_of: id
            range: ROTermEnum
            obligation_level: REQUIRED

  TermMapping:
    description: A mapping between the proposed term and an equivalent term in another ontology
    attributes:
      predicate:
        range: string
        required: true
        description: Mapping predicate (e.g., 'skos:exactMatch', 'skos:closeMatch', 'skos:broadMatch', 'skos:narrowMatch')
      target_term:
        range: Term
        required: true
        inlined: true
        description: The target term in another ontology

  ProposedOntologyTerm:
    description: A proposed new ontology term that should exist but doesn't currently
    attributes:
      proposed_name:
        range: string
        required: true
        description: Proposed name for the new term
      proposed_definition:
        range: string
        required: true
        description: Proposed definition for the new term
      justification:
        range: string
        description: Justification for why this term is needed
      proposed_parent:
        range: Term
        inlined: true
        description: Proposed parent term in the ontology hierarchy
      proposed_mappings:
        range: TermMapping
        multivalued: true
        inlined_as_list: true
        description: Proposed mappings to equivalent terms in other ontologies
      supported_by:
        range: SupportingTextInReference
        multivalued: true

  Experiment:
    description: A suggested experiment to answer a question about the gene
    attributes:
      hypothesis:
        range: string
        recommended: true
        description: Hypothesis to be investigated
      description:
        range: string
        required: true
        description: Detailed description of the experiment to be performed
      experiment_type:
        range: string
        required: false
        description: Type of experiment or assay to answer the question

  Question:
    description: A question to be answered about the gene
    attributes:
      question:
        range: string
        required: true
        description: Question to be answered
      experts:
        range: string
        multivalued: true
        required: false
        description: Experts to answer the question. These should be drawn from the authors of relevant publications already referenced.
          If no suitable experts are available, it's OK to leave this as an empty list!


enums:
  EvidenceType:
    description: |-
      Gene Ontology evidence codes mapped to Evidence and Conclusion Ontology (ECO) terms
    permissible_values:
      
      # Experimental Evidence Codes
      EXP:
        description: Inferred from Experiment
        meaning: ECO:0000269
        
      IDA:
        description: Inferred from Direct Assay
        meaning: ECO:0000314
        
      IPI:
        description: Inferred from Physical Interaction
        meaning: ECO:0000353
        
      IMP:
        description: Inferred from Mutant Phenotype
        meaning: ECO:0000315
        
      IGI:
        description: Inferred from Genetic Interaction
        meaning: ECO:0000316
        
      IEP:
        description: Inferred from Expression Pattern
        meaning: ECO:0000270

      # High Throughput Experimental Evidence Codes
      HTP:
        description: Inferred from High Throughput Experiment
        meaning: ECO:0006056
        
      HDA:
        description: Inferred from High Throughput Direct Assay
        meaning: ECO:0007005
        
      HMP:
        description: Inferred from High Throughput Mutant Phenotype
        meaning: ECO:0007001
        
      HGI:
        description: Inferred from High Throughput Genetic Interaction
        meaning: ECO:0007003
        
      HEP:
        description: Inferred from High Throughput Expression Pattern
        meaning: ECO:0007007

      # Phylogenetically-inferred annotations
      IBA:
        description: Inferred from Biological aspect of Ancestor
        meaning: ECO:0000318
        
      IBD:
        description: Inferred from Biological aspect of Descendant
        meaning: ECO:0000319
        
      IKR:
        description: Inferred from Key Residues
        meaning: ECO:0000320
        
      IRD:
        description: Inferred from Rapid Divergence
        meaning: ECO:0000321

      # Computational Analysis Evidence Codes
      ISS:
        description: Inferred from Sequence or structural Similarity
        meaning: ECO:0000250
        
      ISO:
        description: Inferred from Sequence Orthology
        meaning: ECO:0000266
        
      ISA:
        description: Inferred from Sequence Alignment
        meaning: ECO:0000247
        
      ISM:
        description: Inferred from Sequence Model
        meaning: ECO:0000255
        
      IGC:
        description: Inferred from Genomic Context
        meaning: ECO:0000317
        
      RCA:
        description: Inferred from Reviewed Computational Analysis
        meaning: ECO:0000245

      # Author Statement Evidence Codes
      TAS:
        description: Traceable Author Statement
        meaning: ECO:0000304
        
      NAS:
        description: Non-traceable Author Statement
        meaning: ECO:0000303

      # Curator Statement Evidence Codes
      IC:
        description: Inferred by Curator
        meaning: ECO:0000305
        
      ND:
        description: No biological Data available
        meaning: ECO:0000307

      # Electronic Annotation Evidence Code
      IEA:
        description: Inferred from Electronic Annotation
        meaning: ECO:0000501


  ActionEnum:
    permissible_values:
      ACCEPT:
        description: Accept the existing annotation as-is, no modifications, and retain as representing the core function of the gene
      KEEP_AS_NON_CORE:
        description: Keep the existing annotation as-is, but mark it as non-core. For pleiotropic genes, this may be the developmental
          processes, or other processes that are not the core function of the gene.
      REMOVE:
        description: Remove the existing annotation, as it is unlikely to be correct based on combined evidence
      MODIFY:
        description: The essence of the annotation is sound, but there are better terms to use (use in combination with proposed_replacement_terms).
          if the term is too general, then MODIFY should be used, with a proposed replacement term for the correct specific function.
          sometimes terms can also be overly specific and contorted, so in some cases you might want to generalize
      MARK_AS_OVER_ANNOTATED:
        description: The term is not entirely wrong, but likely represents an over-annotation of the gene
      UNDECIDED:
        description: The annotation is not clear, and the reviewer is not sure what to do with it. ALWAYS USE THIS IF YOU ARE UNABLE TO ACCESS
          RELEVANT PUBLICATIONS
      PENDING:
        description: The review entry is a stub, and the review has not been completed yet.
      NEW:
        description: This is a proposed annotation, not one that exists in the existing GO annotations. Use this to propose a new annotation
          not covered by the existing GO annotations. Use this conservatively, do not over-annotate, especially for biological process.
          Do not use for indirect or pleiotropic effects. Be sure you have good evidence, this can be from multiple sources.

  GOTermEnum:
    description: A term in the GO ontology
    reachable_from:
      source_nodes:
        - GO:0003674
        - GO:0008150
        - GO:0005575
      is_direct: false
      relationship_types:
        - rdfs:subClassOf
  
  GOMolecularActivityEnum:
    description: A molecular activity term in the GO ontology
    reachable_from:
      source_nodes:
        - GO:0003674
      is_direct: false
      relationship_types:
        - rdfs:subClassOf

  GOBiologicalProcessEnum:
    description: A biological process term in the GO ontology
    reachable_from:
      source_nodes:
        - GO:0008150
      is_direct: false
      relationship_types:
        - rdfs:subClassOf

  GOCellularLocationEnum:
    description: A cellular location term in the GO ontology (excludes protein-containing complexes)
    reachable_from:
      source_nodes:
        - GO:0110165
      is_direct: false
      relationship_types:
        - rdfs:subClassOf

  GOProteinContainingComplexEnum:
    description: A protein-containing complex term in the GO ontology
    reachable_from:
      source_nodes:
        - GO:0030246
      is_direct: false
      relationship_types:
        - rdfs:subClassOf

  ROTermEnum:
    description: A term in the relation ontology

  ProductTypeEnum:
    description: Type of gene product
    permissible_values:
      PROTEIN:
        description: Protein-coding gene
        meaning: SO:0001217  # protein_coding_gene
      MIRNA:
        description: microRNA
        meaning: SO:0000276  # miRNA
      LNCRNA:
        description: Long non-coding RNA
        meaning: SO:0001877  # lncRNA
      SNORNA:
        description: Small nucleolar RNA
        meaning: SO:0000275  # snoRNA
      SNRNA:
        description: Small nuclear RNA
        meaning: SO:0000274  # snRNA
      TRNA:
        description: Transfer RNA
        meaning: SO:0000253  # tRNA
      RRNA:
        description: Ribosomal RNA
        meaning: SO:0000252  # rRNA
      PIRNA:
        description: PIWI-interacting RNA
        meaning: SO:0001035  # piRNA
      ANTISENSE_RNA:
        description: Antisense RNA
        meaning: SO:0000644  # antisense_RNA
      PSEUDOGENE:
        description: Pseudogene
        meaning: SO:0000336  # pseudogene
      OTHER_NCRNA:
        description: Other non-coding RNA
        meaning: SO:0000655  # ncRNA

  ManuscriptSection:
    description: |-
      Sections of a scientific manuscript or publication
    permissible_values:

      TITLE:
        description: Title section
        meaning: IAO:0000305  # document title
        annotations:
          order: 1

      ABSTRACT:
        description: Abstract
        meaning: IAO:0000315  # abstract
        annotations:
          order: 3
          typical_length: 150-300 words

      KEYWORDS:
        description: Keywords
        meaning: IAO:0000630  # keywords section
        annotations:
          order: 4

      # Main Text
      INTRODUCTION:
        description: Introduction/Background
        meaning: IAO:0000316  # introduction to a publication about an investigation
        annotations:
          order: 5
          aliases: Background

      LITERATURE_REVIEW:
        description: Literature review
        meaning: IAO:0000639  # related work section
        annotations:
          order: 6
          optional: true

      METHODS:
        description: Methods/Materials and Methods
        meaning: IAO:0000317  # methods section
        annotations:
          order: 7
          aliases: Materials and Methods, Methodology, Experimental

      RESULTS:
        description: Results
        meaning: IAO:0000318  # results section
        annotations:
          order: 8
          aliases: Findings

      DISCUSSION:
        description: Discussion
        meaning: IAO:0000319  # discussion section of a publication about an investigation
        annotations:
          order: 9

      CONCLUSIONS:
        description: Conclusions
        meaning: IAO:0000615  # conclusion section
        annotations:
          order: 10
          aliases: Conclusion

      APPENDICES:
        description: Appendices
        meaning: IAO:0000326  # supplementary material to a document
        annotations:
          order: 13
          aliases: Appendix

      SUPPLEMENTARY_MATERIAL:
        description: Supplementary material
        meaning: IAO:0000326  # supplementary material to a document
        annotations:
          order: 14
          aliases: Supporting Information, Supplemental Data
          location: often online-only

      DATABASE_ENTRY:
        description: Database entry
        annotations:
          order: 15

      OTHER:
        description: Other main text section
        annotations:
          catch_all: true

      
