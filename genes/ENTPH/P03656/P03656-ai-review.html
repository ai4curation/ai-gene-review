<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I - AI Gene Review</title>
    <style>
        :root {
            --color-accept: #22c55e;
            --color-remove: #ef4444;
            --color-modify: #f97316;
            --color-keep-non-core: #3b82f6;
            --color-undecided: #6b7280;
            --color-new: #8b5cf6;
            --color-mark-over: #eab308;
            --bg-light: #f9fafb;
            --border-color: #e5e7eb;
            --text-muted: #6b7280;
            --text-primary: #111827;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: #ffffff;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #1f2937;
        }

        .gene-info {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .info-item {
            display: flex;
            gap: 0.5rem;
        }

        .info-label {
            font-weight: 600;
            color: var(--text-muted);
        }

        .aliases {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            background-color: var(--bg-light);
            border: 1px solid var(--border-color);
        }

        .description-card {
            background-color: var(--bg-light);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .description-card h2 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: #374151;
        }

        .section {
            margin-bottom: 2.5rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #1f2937;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        .annotations-table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .annotations-table thead {
            background-color: var(--bg-light);
        }

        .annotations-table th {
            text-align: left;
            padding: 1rem;
            font-weight: 600;
            border-bottom: 2px solid var(--border-color);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
        }

        .annotations-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .annotations-table tbody tr:hover {
            background-color: #f9fafb;
        }

        .action-badge {
            display: inline-block;
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .action-accept {
            background-color: var(--color-accept);
            color: white;
        }

        .action-remove {
            background-color: var(--color-remove);
            color: white;
        }

        .action-modify {
            background-color: var(--color-modify);
            color: white;
        }

        .action-keep_as_non_core {
            background-color: var(--color-keep-non-core);
            color: white;
        }

        .action-undecided {
            background-color: var(--color-undecided);
            color: white;
        }

        .action-new {
            background-color: var(--color-new);
            color: white;
        }

        .action-mark_as_over_annotated {
            background-color: var(--color-mark-over);
            color: white;
        }

        .term-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .term-id {
            font-family: monospace;
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .term-label {
            font-weight: 500;
        }

        .evidence-code {
            font-family: monospace;
            background-color: var(--bg-light);
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }

        .core-function-card {
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .core-function-card h3 {
            font-size: 1.125rem;
            margin-bottom: 1rem;
            color: #1f2937;
        }

        .core-function-statement {
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: var(--bg-light);
            border-left: 4px solid var(--color-accept);
            border-radius: 0.25rem;
        }

        .function-annotations {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .reference-item {
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .reference-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.75rem;
        }

        .reference-id {
            font-family: monospace;
            font-weight: 600;
            color: #2563eb;
        }

        .supported-by {
            margin-top: 0.5rem;
            padding: 0.5rem;
            background-color: #f3f4f6;
            border-left: 3px solid #3b82f6;
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }

        .supported-by-title {
            font-weight: 600;
            color: #4b5563;
            margin-bottom: 0.25rem;
        }

        .support-item {
            margin-bottom: 0.5rem;
        }

        .support-ref {
            font-weight: 500;
            color: #2563eb;
        }

        .support-text {
            color: #6b7280;
            font-style: italic;
            margin-left: 1rem;
        }

        a.term-link {
            color: #2563eb;
            text-decoration: none;
        }

        a.term-link:hover {
            text-decoration: underline;
        }

        .core-function-terms {
            margin-top: 1rem;
        }

        .function-term-group {
            margin-bottom: 1rem;
        }

        .function-term-label {
            font-weight: 600;
            color: #4b5563;
            margin-bottom: 0.25rem;
        }

        .reference-title {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .findings-list {
            margin-top: 1rem;
            padding-left: 1.5rem;
        }

        .finding-item {
            margin-bottom: 0.75rem;
        }

        .finding-statement {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .finding-text {
            color: var(--text-muted);
            font-size: 0.95rem;
            font-style: italic;
        }

        .proposed-term {
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #fef3c7;
        }

        .question-card {
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #dbeafe;
        }

        .experiment-card {
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #f3e8ff;
        }

        .collapsible {
            cursor: pointer;
            user-select: none;
        }

        .collapsible:after {
            content: ' ‚ñº';
            font-size: 0.75rem;
        }

        .collapsible.collapsed:after {
            content: ' ‚ñ∫';
        }

        .collapse-content {
            transition: max-height 0.3s ease;
            overflow: hidden;
        }

        .collapsed + .collapse-content {
            max-height: 0;
        }

        .no-data {
            color: var(--text-muted);
            font-style: italic;
            padding: 1rem;
            text-align: center;
            background-color: var(--bg-light);
            border-radius: 0.5rem;
        }

        /* Styling for markdown section summaries with voting */
        .markdown-section summary {
            padding: 0.75rem;
            background: var(--bg-light);
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .markdown-section summary:hover {
            background: #e5e7eb;
        }

        .markdown-section summary .vote-buttons {
            margin-left: auto;
        }

        @media print {
            body {
                padding: 1rem;
            }

            .collapsible:after {
                display: none;
            }

            .collapsed + .collapse-content {
                max-height: none !important;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .annotations-table {
                font-size: 0.875rem;
            }

            .annotations-table th,
            .annotations-table td {
                padding: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>I</h1>
        <div class="gene-info">
            
            <div class="info-item">
                
                <span class="info-label">UniProt ID:</span>
                <span>
                    <a href="https://www.uniprot.org/uniprotkb/P03656" target="_blank" class="term-link">
                        P03656
                    </a>
                </span>
                
            </div>
            
            
            <div class="info-item">
                <span class="info-label">Organism:</span>
                <span>Inovirus M13</span>
            </div>
            
            
            <div class="info-item">
                <span class="info-label">Aliases:</span>
                <div class="aliases">
                    
                    <span class="badge">G1P</span>
                    
                    <span class="badge">Gene 1 protein</span>
                    
                    <span class="badge">G11P</span>
                    
                    <span class="badge">Gene 11 protein</span>
                    
                </div>
            </div>
            
        </div>
        <div style="margin-top: 1rem; text-align: center;">
            <a id="feedback-form-link"
               href="#"
               target="_blank"
               style="display: inline-block; padding: 10px 20px; background-color: #4CAF50; color: white; text-decoration: none; border-radius: 5px; font-weight: 600;">
                üìù Provide Detailed Feedback
            </a>
            <script>
                // Construct the form URL with proper encoding
                // Extract organism code from the current page path (e.g., /genes/ARATH/APO1/ -> ARATH)
                const pathParts = window.location.pathname.split('/');
                const genesIndex = pathParts.indexOf('genes');
                let organism = '';
                if (genesIndex !== -1 && pathParts[genesIndex + 1]) {
                    organism = pathParts[genesIndex + 1].toUpperCase();
                }
                const geneSymbol = "I";
                const speciesGene = organism + ' ' + geneSymbol;
                const formBaseUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSdTot9L6GVkkZYgLQT0E8ZdAJv8RiN5ZgOVkgWNcKSbYvxxzQ/viewform';
                const entryId = '1226477767'; // Correct entry ID for Species/Gene field
                const formUrl = formBaseUrl + '?entry.' + entryId + '=' + encodeURIComponent(speciesGene);
                const feedbackLink = document.getElementById('feedback-form-link');
                feedbackLink.href = formUrl;
                // Add tooltip showing the pre-filled value
                feedbackLink.title = 'Opens form with pre-filled: ' + speciesGene;
            </script>
        </div>
    </div>

    
    <div class="description-card">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h2>Gene Description</h2>
            <span class="vote-buttons" data-g="P03656" data-a="DESCRIPTION: Gene 1 protein (G1P) is an essential ATP-binding m..." data-r="" data-act="DESCRIPTION">
                <button class="vote-btn" data-v="up" title="Agree with this description">üëç</button>
                <button class="vote-btn" data-v="down" title="Disagree with this description">üëé</button>
            </span>
        </div>
        <p>Gene 1 protein (G1P) is an essential ATP-binding membrane protein required for M13 phage assembly and extrusion from host cells. The protein increases adhesion zones between inner and outer host membranes where phage assembly occurs, working in complex with G4P to create transmembrane channels for phage extrusion. Through alternative initiation, it also produces isoform G11P which plays a structural role in phage assembly site formation. This protein represents a paradigm for viral assembly mechanisms that do not lyse the host cell.</p>
    </div>
    

    
    <div class="section">
        <h2 class="section-title">Proposed New Ontology Terms</h2>
        
        <div class="proposed-term">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>viral assembly site formation</h3>
                <span class="vote-buttons" data-g="P03656" data-a="viral assembly site formation" data-r="" data-act="NEW">
                    <button class="vote-btn" data-v="up" title="Agree this term should be created">üëç</button>
                    <button class="vote-btn" data-v="down" title="Disagree with creating this term">üëé</button>
                </span>
            </div>

            
            <p><strong>Definition:</strong> The process of creating specialized membrane sites where viral particles are assembled and packaged prior to extrusion from host cells</p>
            

            
            <p><strong>Justification:</strong> G1P creates specific adhesion zones for phage assembly, representing a distinct biological process not captured by existing terms. This could be useful for viral assembly proteins across different virus families.</p>
            

            

            

            
        </div>
        
    </div>
    

    
    <div class="section">
        <h2 class="section-title">Existing Annotations Review</h2>
        <table class="annotations-table">
            <thead>
                <tr>
                    <th>GO Term</th>
                    <th>Evidence</th>
                    <th>Action</th>
                    <th>Reason</th>
                </tr>
            </thead>
            <tbody>
                
                <tr>
                    <td>
                        <div class="term-info">
                            
                            <span class="term-id">
                                <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0000166" target="_blank" class="term-link">
                                    GO:0000166
                                </a>
                            </span>
                            <span class="term-label">nucleotide binding</span>
                            
                        </div>
                    </td>
                    <td>
                        <span class="evidence-code">IEA</span>
                        
                        <br>
                        <span style="font-size: 0.75rem;">
                            
                            GO_REF:0000043
                            
                        </span>
                        
                    </td>
                    <td>
                        <span class="action-badge action-keepasnoncore">
                            KEEP AS NON CORE
                        </span>
                        <span class="vote-buttons" data-g="P03656" data-a="GO:0000166" data-r="GO_REF:0000043" data-act="KEEP_AS_NON_CORE">
                            <button class="vote-btn" data-v="up" title="Agree with this decision">üëç</button>
                            <button class="vote-btn" data-v="down" title="Disagree with this decision">üëé</button>
                        </span>
                    </td>
                    <td>
                        
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Summary:</strong> Accurate but general - more specific as ATP binding for this ATPase
                        </div>
                        
                        
                        <div>
                            <strong>Reason:</strong> While correct, ATP binding is more specific and informative for G1P function in phage assembly.
                        </div>
                        
                        
                        
                    </td>
                </tr>
                
                <tr>
                    <td>
                        <div class="term-info">
                            
                            <span class="term-id">
                                <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0005524" target="_blank" class="term-link">
                                    GO:0005524
                                </a>
                            </span>
                            <span class="term-label">ATP binding</span>
                            
                        </div>
                    </td>
                    <td>
                        <span class="evidence-code">IEA</span>
                        
                        <br>
                        <span style="font-size: 0.75rem;">
                            
                            GO_REF:0000043
                            
                        </span>
                        
                    </td>
                    <td>
                        <span class="action-badge action-accept">
                            ACCEPT
                        </span>
                        <span class="vote-buttons" data-g="P03656" data-a="GO:0005524" data-r="GO_REF:0000043" data-act="ACCEPT">
                            <button class="vote-btn" data-v="up" title="Agree with this decision">üëç</button>
                            <button class="vote-btn" data-v="down" title="Disagree with this decision">üëé</button>
                        </span>
                    </td>
                    <td>
                        
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Summary:</strong> Correct and specific - G1P contains ATP binding domain essential for assembly function
                        </div>
                        
                        
                        <div>
                            <strong>Reason:</strong> Accurately describes core molecular function. G1P has an ATP-binding domain (P-loop NTPase) that is essential for its phage assembly role.
                        </div>
                        
                        
                        
                    </td>
                </tr>
                
                <tr>
                    <td>
                        <div class="term-info">
                            
                            <span class="term-id">
                                <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0033644" target="_blank" class="term-link">
                                    GO:0033644
                                </a>
                            </span>
                            <span class="term-label">host cell membrane</span>
                            
                        </div>
                    </td>
                    <td>
                        <span class="evidence-code">IEA</span>
                        
                        <br>
                        <span style="font-size: 0.75rem;">
                            
                            GO_REF:0000044
                            
                        </span>
                        
                    </td>
                    <td>
                        <span class="action-badge action-accept">
                            ACCEPT
                        </span>
                        <span class="vote-buttons" data-g="P03656" data-a="GO:0033644" data-r="GO_REF:0000044" data-act="ACCEPT">
                            <button class="vote-btn" data-v="up" title="Agree with this decision">üëç</button>
                            <button class="vote-btn" data-v="down" title="Disagree with this decision">üëé</button>
                        </span>
                    </td>
                    <td>
                        
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Summary:</strong> Correct location - G1P is membrane protein creating adhesion zones
                        </div>
                        
                        
                        <div>
                            <strong>Reason:</strong> Accurately describes cellular location. G1P is a transmembrane protein that localizes to host cell membranes to create phage assembly sites.
                        </div>
                        
                        
                        
                    </td>
                </tr>
                
                <tr>
                    <td>
                        <div class="term-info">
                            
                            <span class="term-id">
                                <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0099045" target="_blank" class="term-link">
                                    GO:0099045
                                </a>
                            </span>
                            <span class="term-label">viral extrusion</span>
                            
                        </div>
                    </td>
                    <td>
                        <span class="evidence-code">IEA</span>
                        
                        <br>
                        <span style="font-size: 0.75rem;">
                            
                            GO_REF:0000043
                            
                        </span>
                        
                    </td>
                    <td>
                        <span class="action-badge action-accept">
                            ACCEPT
                        </span>
                        <span class="vote-buttons" data-g="P03656" data-a="GO:0099045" data-r="GO_REF:0000043" data-act="ACCEPT">
                            <button class="vote-btn" data-v="up" title="Agree with this decision">üëç</button>
                            <button class="vote-btn" data-v="down" title="Disagree with this decision">üëé</button>
                        </span>
                    </td>
                    <td>
                        
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Summary:</strong> Correct core process - G1P is essential for phage assembly and extrusion
                        </div>
                        
                        
                        <div>
                            <strong>Reason:</strong> Accurately describes the primary biological process. G1P is required for creating extrusion sites where assembled phages exit the host cell.
                        </div>
                        
                        
                        
                    </td>
                </tr>
                
                <tr>
                    <td>
                        <div class="term-info">
                            
                            <span class="term-id">
                                <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0019068" target="_blank" class="term-link">
                                    GO:0019068
                                </a>
                            </span>
                            <span class="term-label">virion assembly</span>
                            
                        </div>
                    </td>
                    <td>
                        <span class="evidence-code">TAS</span>
                        
                        <br>
                        <span style="font-size: 0.75rem;">
                            
                            UniProt:P03656
                            
                        </span>
                        
                    </td>
                    <td>
                        <span class="action-badge action-new">
                            NEW
                        </span>
                        <span class="vote-buttons" data-g="P03656" data-a="GO:0019068" data-r="UniProt:P03656" data-act="NEW">
                            <button class="vote-btn" data-v="up" title="Agree with this decision">üëç</button>
                            <button class="vote-btn" data-v="down" title="Disagree with this decision">üëé</button>
                        </span>
                    </td>
                    <td>
                        
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Summary:</strong> Core biological process - G1P is essential for virion assembly at membrane sites
                        </div>
                        
                        
                        <div>
                            <strong>Reason:</strong> G1P creates specialized assembly sites where phage particles are formed, representing a key step in virion assembly.
                        </div>
                        
                        
                        
                    </td>
                </tr>
                
                <tr>
                    <td>
                        <div class="term-info">
                            
                            <span class="term-id">
                                <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0044409" target="_blank" class="term-link">
                                    GO:0044409
                                </a>
                            </span>
                            <span class="term-label">symbiont entry into host</span>
                            
                        </div>
                    </td>
                    <td>
                        <span class="evidence-code">TAS</span>
                        
                        <br>
                        <span style="font-size: 0.75rem;">
                            
                            UniProt:P03656
                            
                        </span>
                        
                    </td>
                    <td>
                        <span class="action-badge action-new">
                            NEW
                        </span>
                        <span class="vote-buttons" data-g="P03656" data-a="GO:0044409" data-r="UniProt:P03656" data-act="NEW">
                            <button class="vote-btn" data-v="up" title="Agree with this decision">üëç</button>
                            <button class="vote-btn" data-v="down" title="Disagree with this decision">üëé</button>
                        </span>
                    </td>
                    <td>
                        
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Summary:</strong> Related process - G1P creates channels for viral particle passage
                        </div>
                        
                        
                        <div>
                            <strong>Reason:</strong> While primarily for extrusion, the G1P-G4P complex creates transmembrane channels that could be involved in viral entry processes.
                        </div>
                        
                        
                        
                    </td>
                </tr>
                
            </tbody>
        </table>
    </div>
    

    
    <div class="section">
        <h2 class="section-title">Core Functions</h2>
        
        <div class="core-function-card">
            
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>ATP-binding membrane protein that creates adhesion zones between host inner and outer membranes for phage assembly and extrusion</h3>
                <span class="vote-buttons" data-g="P03656" data-a="FUNCTION: ATP-binding membrane protein that creates adhesion..." data-r="" data-act="CORE_FUNCTION">
                    <button class="vote-btn" data-v="up" title="Agree with this core function">üëç</button>
                    <button class="vote-btn" data-v="down" title="Disagree with this core function">üëé</button>
                </span>
            </div>
            

            <div class="core-function-terms">
                
                <div class="function-term-group">
                    <div class="function-term-label">Molecular Function:</div>
                    <span class="badge">
                        <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0005524" target="_blank" class="term-link">
                            ATP binding
                        </a>
                    </span>
                </div>
                

                
                <div class="function-term-group">
                    <div class="function-term-label">Directly Involved In:</div>
                    <div class="function-annotations">
                        
                        <span class="badge">
                            <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0099045" target="_blank" class="term-link">
                                viral extrusion
                            </a>
                        </span>
                        
                        <span class="badge">
                            <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0019068" target="_blank" class="term-link">
                                virion assembly
                            </a>
                        </span>
                        
                    </div>
                </div>
                

                

                

                
            </div>

            
            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                <strong>Supporting Evidence:</strong>
                <ul class="findings-list">
                    
                    <li class="finding-item">
                        <span class="reference-id">
                            
                            UniProt:P03656
                            
                        </span>
                        
                        <div class="finding-text">Isoform G1P plays an essential role in phage assembly. It is required to increase the number of adhesion zones between the inner and outer membranes of the host cell</div>
                        
                    </li>
                    
                    <li class="finding-item">
                        <span class="reference-id">
                            
                            UniProt:P03656
                            
                        </span>
                        
                        <div class="finding-text">The extrusion of neo-synthesized phages occurs at these adhesion sites</div>
                        
                    </li>
                    
                </ul>
            </div>
            
        </div>
        
        <div class="core-function-card">
            
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>Transmembrane protein complex component that interacts with G4P to create channels spanning host membranes for viral particle passage</h3>
                <span class="vote-buttons" data-g="P03656" data-a="FUNCTION: Transmembrane protein complex component that inter..." data-r="" data-act="CORE_FUNCTION">
                    <button class="vote-btn" data-v="up" title="Agree with this core function">üëç</button>
                    <button class="vote-btn" data-v="down" title="Disagree with this core function">üëé</button>
                </span>
            </div>
            

            <div class="core-function-terms">
                
                <div class="function-term-group">
                    <div class="function-term-label">Molecular Function:</div>
                    <span class="badge">
                        <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0005524" target="_blank" class="term-link">
                            ATP binding
                        </a>
                    </span>
                </div>
                

                
                <div class="function-term-group">
                    <div class="function-term-label">Directly Involved In:</div>
                    <div class="function-annotations">
                        
                        <span class="badge">
                            <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0099045" target="_blank" class="term-link">
                                viral extrusion
                            </a>
                        </span>
                        
                        <span class="badge">
                            <a href="https://www.ebi.ac.uk/QuickGO/term/GO:0044409" target="_blank" class="term-link">
                                symbiont entry into host
                            </a>
                        </span>
                        
                    </div>
                </div>
                

                

                

                
            </div>

            
            <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                <strong>Supporting Evidence:</strong>
                <ul class="findings-list">
                    
                    <li class="finding-item">
                        <span class="reference-id">
                            
                            UniProt:P03656
                            
                        </span>
                        
                        <div class="finding-text">Interacts with G4P; this interaction results in a complex that spans the inner an outer host membranes</div>
                        
                    </li>
                    
                    <li class="finding-item">
                        <span class="reference-id">
                            
                            UniProt:P03656
                            
                        </span>
                        
                        <div class="finding-text">May be involved with G4P in creating zone through which the phage assembled and extruded</div>
                        
                    </li>
                    
                </ul>
            </div>
            
        </div>
        
    </div>
    

    
    <div class="section">
        <h2 class="section-title collapsible">References</h2>
        <div class="collapse-content">
            
            <div class="reference-item">
                <div class="reference-header">
                    <span class="reference-id">
                        
                        <a href="https://github.com/geneontology/go-site/blob/master/metadata/gorefs/goref-0000043.md" target="_blank" class="term-link">
                            GO_REF:0000043
                        </a>
                        
                    </span>
                </div>
                
                <div class="reference-title">Gene Ontology annotation based on UniProtKB/Swiss-Prot keyword mapping</div>
                
                
            </div>
            
            <div class="reference-item">
                <div class="reference-header">
                    <span class="reference-id">
                        
                        <a href="https://github.com/geneontology/go-site/blob/master/metadata/gorefs/goref-0000044.md" target="_blank" class="term-link">
                            GO_REF:0000044
                        </a>
                        
                    </span>
                </div>
                
                <div class="reference-title">Gene Ontology annotation based on UniProtKB/Swiss-Prot Subcellular Location vocabulary mapping, accompanied by conservative changes to GO terms applied by UniProt.</div>
                
                
            </div>
            
            <div class="reference-item">
                <div class="reference-header">
                    <span class="reference-id">
                        
                        <a href="https://pubmed.ncbi.nlm.nih.gov/6254849" target="_blank" class="term-link">
                            PMID:6254849
                        </a>
                        
                    </span>
                </div>
                
                <div class="reference-title">Nucleotide sequence of the filamentous bacteriophage M13 DNA genome: comparison with phage fd.</div>
                
                
                <ul class="findings-list">
                    
                    <li class="finding-item">
                        <div class="finding-statement">Complete genome sequence reveals Gene 1 protein structure</div>
                        
                        <div class="finding-text">"Nucleotide sequence of the filamentous bacteriophage M13 DNA genome"</div>
                        
                    </li>
                    
                </ul>
                
            </div>
            
            <div class="reference-item">
                <div class="reference-header">
                    <span class="reference-id">
                        
                        UniProt:P03656
                        
                    </span>
                </div>
                
                <div class="reference-title">UniProt entry for M13 Gene 1 protein</div>
                
                
                <ul class="findings-list">
                    
                    <li class="finding-item">
                        <div class="finding-statement">G1P plays essential role in phage assembly by creating adhesion zones</div>
                        
                        <div class="finding-text">"Isoform G1P plays an essential role in phage assembly. It is required to increase the number of adhesion zones between the inner and outer membranes of the host cell"</div>
                        
                    </li>
                    
                    <li class="finding-item">
                        <div class="finding-statement">Phage extrusion occurs at G1P-created adhesion sites</div>
                        
                        <div class="finding-text">"The extrusion of neo-synthesized phages occurs at these adhesion sites"</div>
                        
                    </li>
                    
                    <li class="finding-item">
                        <div class="finding-statement">G1P works with G4P to create extrusion channels</div>
                        
                        <div class="finding-text">"May be involved with G4P in creating zone through which the phage assembled and extruded"</div>
                        
                    </li>
                    
                    <li class="finding-item">
                        <div class="finding-statement">G11P isoform plays structural role in assembly site formation</div>
                        
                        <div class="finding-text">"Isoform G11P is also involved in phage assembly, probably playing a structural role in the formation of the phage assembly site"</div>
                        
                    </li>
                    
                    <li class="finding-item">
                        <div class="finding-statement">G1P interacts with G4P spanning host membranes</div>
                        
                        <div class="finding-text">"Interacts with G4P; this interaction results in a complex that spans the inner an outer host membranes"</div>
                        
                    </li>
                    
                </ul>
                
            </div>
            
        </div>
    </div>
    


    
    <div class="section">
        <h2 class="section-title">Suggested Questions for Experts</h2>
        
        <div class="question-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    <p><strong>Q:</strong> How does ATP hydrolysis by G1P drive the formation of membrane adhesion zones?</p>
                    
                    <p style="margin-top: 0.5rem;"><em>Suggested experts: Viral biologists, Membrane biophysicists, Structural biologists</em></p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="Q: How does ATP hydrolysis by G1P drive the formation..." data-r="" data-act="QUESTION">
                    <button class="vote-btn" data-v="up" title="Good question to ask">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful question">üëé</button>
                </span>
            </div>
        </div>
        
        <div class="question-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    <p><strong>Q:</strong> What are the detailed molecular interactions between G1P and G4P in the assembly complex?</p>
                    
                    <p style="margin-top: 0.5rem;"><em>Suggested experts: Structural virologists, Protein interaction specialists, Cryo-EM experts</em></p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="Q: What are the detailed molecular interactions betwe..." data-r="" data-act="QUESTION">
                    <button class="vote-btn" data-v="up" title="Good question to ask">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful question">üëé</button>
                </span>
            </div>
        </div>
        
        <div class="question-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    <p><strong>Q:</strong> How is the timing of phage assembly and extrusion coordinated at G1P-created sites?</p>
                    
                    <p style="margin-top: 0.5rem;"><em>Suggested experts: Systems virologists, Cell biologists, Viral assembly experts</em></p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="Q: How is the timing of phage assembly and extrusion ..." data-r="" data-act="QUESTION">
                    <button class="vote-btn" data-v="up" title="Good question to ask">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful question">üëé</button>
                </span>
            </div>
        </div>
        
        <div class="question-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    <p><strong>Q:</strong> Can G1P assembly mechanisms be exploited for biotechnological applications like protein secretion?</p>
                    
                    <p style="margin-top: 0.5rem;"><em>Suggested experts: Biotechnology researchers, Protein engineering specialists, Synthetic biologists</em></p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="Q: Can G1P assembly mechanisms be exploited for biote..." data-r="" data-act="QUESTION">
                    <button class="vote-btn" data-v="up" title="Good question to ask">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful question">üëé</button>
                </span>
            </div>
        </div>
        
    </div>
    

    
    <div class="section">
        <h2 class="section-title">Suggested Experiments</h2>
        
        <div class="experiment-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    
                    <p><strong>Experiment:</strong> Detailed analysis of G1P-G4P complex formation and identification of other host or viral proteins involved in assembly site formation.</p>
                    
                    
                    
                    <p style="margin-top: 0.5rem;">Type: Protein interaction mapping</p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="EXPERIMENT: Detailed analysis of G1P-G4P complex formation and..." data-r="" data-act="EXPERIMENT">
                    <button class="vote-btn" data-v="up" title="Useful experiment">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful experiment">üëé</button>
                </span>
            </div>
        </div>
        
        <div class="experiment-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    
                    <p><strong>Experiment:</strong> Live-cell imaging of adhesion zone formation and dynamics during phage assembly, including the role of ATP hydrolysis in the process.</p>
                    
                    
                    
                    <p style="margin-top: 0.5rem;">Type: Membrane dynamics analysis</p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="EXPERIMENT: Live-cell imaging of adhesion zone formation and d..." data-r="" data-act="EXPERIMENT">
                    <button class="vote-btn" data-v="up" title="Useful experiment">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful experiment">üëé</button>
                </span>
            </div>
        </div>
        
        <div class="experiment-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    
                    <p><strong>Experiment:</strong> Mutagenesis of ATP-binding domain and transmembrane regions to understand their specific roles in assembly site formation and phage extrusion.</p>
                    
                    
                    
                    <p style="margin-top: 0.5rem;">Type: Functional domain analysis</p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="EXPERIMENT: Mutagenesis of ATP-binding domain and transmembran..." data-r="" data-act="EXPERIMENT">
                    <button class="vote-btn" data-v="up" title="Useful experiment">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful experiment">üëé</button>
                </span>
            </div>
        </div>
        
        <div class="experiment-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    
                    <p><strong>Experiment:</strong> Comparison of M13 assembly mechanism with other filamentous phages to understand conservation and divergence of assembly strategies.</p>
                    
                    
                    
                    <p style="margin-top: 0.5rem;">Type: Comparative viral assembly</p>
                    
                </div>
                <span class="vote-buttons" data-g="P03656" data-a="EXPERIMENT: Comparison of M13 assembly mechanism with other fi..." data-r="" data-act="EXPERIMENT">
                    <button class="vote-btn" data-v="up" title="Useful experiment">üëç</button>
                    <button class="vote-btn" data-v="down" title="Not a useful experiment">üëé</button>
                </span>
            </div>
        </div>
        
    </div>
    

    
    <div class="section">
        <h2 class="section-title">Tags</h2>
        <div class="aliases">
            
            <span class="badge">lbnl-favorites</span>
            
        </div>
    </div>
    

    <!-- Additional Documentation Sections -->
    

    <!-- YAML Preview Section -->
    <div class="section">
        <details class="yaml-preview">
            <summary>
                <h2 style="display: inline;">üìÑ View Raw YAML</h2>
            </summary>
            <div class="yaml-content">
                <pre><code>id: P03656
gene_symbol: I
aliases:
- G1P
- Gene 1 protein
- G11P
- Gene 11 protein
taxon:
  id: NCBITaxon:1977402
  label: Inovirus M13
description: Gene 1 protein (G1P) is an essential ATP-binding membrane protein required for M13 phage assembly and extrusion from host cells. The protein increases adhesion zones between inner and outer host membranes where phage assembly occurs, working in complex with G4P to create transmembrane channels for phage extrusion. Through alternative initiation, it also produces isoform G11P which plays a structural role in phage assembly site formation. This protein represents a paradigm for viral assembly mechanisms that do not lyse the host cell.
existing_annotations:
- term:
    id: GO:0000166
    label: nucleotide binding
  evidence_type: IEA
  original_reference_id: GO_REF:0000043
  review:
    summary: Accurate but general - more specific as ATP binding for this ATPase
    action: KEEP_AS_NON_CORE
    reason: While correct, ATP binding is more specific and informative for G1P function in phage assembly.
- term:
    id: GO:0005524
    label: ATP binding
  evidence_type: IEA
  original_reference_id: GO_REF:0000043
  review:
    summary: Correct and specific - G1P contains ATP binding domain essential for assembly function
    action: ACCEPT
    reason: Accurately describes core molecular function. G1P has an ATP-binding domain (P-loop NTPase) that is essential for its phage assembly role.
- term:
    id: GO:0033644
    label: host cell membrane
  evidence_type: IEA
  original_reference_id: GO_REF:0000044
  review:
    summary: Correct location - G1P is membrane protein creating adhesion zones
    action: ACCEPT
    reason: Accurately describes cellular location. G1P is a transmembrane protein that localizes to host cell membranes to create phage assembly sites.
- term:
    id: GO:0099045
    label: viral extrusion
  evidence_type: IEA
  original_reference_id: GO_REF:0000043
  review:
    summary: Correct core process - G1P is essential for phage assembly and extrusion
    action: ACCEPT
    reason: Accurately describes the primary biological process. G1P is required for creating extrusion sites where assembled phages exit the host cell.
- term:
    id: GO:0019068
    label: virion assembly
  evidence_type: TAS
  original_reference_id: UniProt:P03656
  review:
    summary: Core biological process - G1P is essential for virion assembly at membrane sites
    action: NEW
    reason: G1P creates specialized assembly sites where phage particles are formed, representing a key step in virion assembly.
- term:
    id: GO:0044409
    label: symbiont entry into host
  evidence_type: TAS
  original_reference_id: UniProt:P03656
  review:
    summary: Related process - G1P creates channels for viral particle passage
    action: NEW
    reason: While primarily for extrusion, the G1P-G4P complex creates transmembrane channels that could be involved in viral entry processes.
references:
- id: GO_REF:0000043
  title: Gene Ontology annotation based on UniProtKB/Swiss-Prot keyword mapping
  findings: []
- id: GO_REF:0000044
  title: Gene Ontology annotation based on UniProtKB/Swiss-Prot Subcellular Location vocabulary mapping, accompanied by conservative changes to GO terms applied by UniProt.
  findings: []
- id: PMID:6254849
  title: &#39;Nucleotide sequence of the filamentous bacteriophage M13 DNA genome: comparison with phage fd.&#39;
  findings:
  - statement: Complete genome sequence reveals Gene 1 protein structure
    supporting_text: Nucleotide sequence of the filamentous bacteriophage M13 DNA genome
- id: UniProt:P03656
  title: UniProt entry for M13 Gene 1 protein
  findings:
  - statement: G1P plays essential role in phage assembly by creating adhesion zones
    supporting_text: Isoform G1P plays an essential role in phage assembly. It is required to increase the number of adhesion zones between the inner and outer membranes of the host cell
  - statement: Phage extrusion occurs at G1P-created adhesion sites
    supporting_text: The extrusion of neo-synthesized phages occurs at these adhesion sites
  - statement: G1P works with G4P to create extrusion channels
    supporting_text: May be involved with G4P in creating zone through which the phage assembled and extruded
  - statement: G11P isoform plays structural role in assembly site formation
    supporting_text: Isoform G11P is also involved in phage assembly, probably playing a structural role in the formation of the phage assembly site
  - statement: G1P interacts with G4P spanning host membranes
    supporting_text: Interacts with G4P; this interaction results in a complex that spans the inner an outer host membranes
core_functions:
- description: ATP-binding membrane protein that creates adhesion zones between host inner and outer membranes for phage assembly and extrusion
  molecular_function:
    id: GO:0005524
    label: ATP binding
  directly_involved_in:
  - id: GO:0099045
    label: viral extrusion
  - id: GO:0019068
    label: virion assembly
  supported_by:
  - reference_id: UniProt:P03656
    supporting_text: Isoform G1P plays an essential role in phage assembly. It is required to increase the number of adhesion zones between the inner and outer membranes of the host cell
  - reference_id: UniProt:P03656
    supporting_text: The extrusion of neo-synthesized phages occurs at these adhesion sites
- description: Transmembrane protein complex component that interacts with G4P to create channels spanning host membranes for viral particle passage
  molecular_function:
    id: GO:0005524
    label: ATP binding
  directly_involved_in:
  - id: GO:0099045
    label: viral extrusion
  - id: GO:0044409
    label: symbiont entry into host
  supported_by:
  - reference_id: UniProt:P03656
    supporting_text: Interacts with G4P; this interaction results in a complex that spans the inner an outer host membranes
  - reference_id: UniProt:P03656
    supporting_text: May be involved with G4P in creating zone through which the phage assembled and extruded
proposed_new_terms:
- proposed_name: viral assembly site formation
  proposed_definition: The process of creating specialized membrane sites where viral particles are assembled and packaged prior to extrusion from host cells
  justification: G1P creates specific adhesion zones for phage assembly, representing a distinct biological process not captured by existing terms. This could be useful for viral assembly proteins across different virus families.
suggested_experiments:
- experiment_type: Protein interaction mapping
  description: Detailed analysis of G1P-G4P complex formation and identification of other host or viral proteins involved in assembly site formation.
- experiment_type: Membrane dynamics analysis
  description: Live-cell imaging of adhesion zone formation and dynamics during phage assembly, including the role of ATP hydrolysis in the process.
- experiment_type: Functional domain analysis
  description: Mutagenesis of ATP-binding domain and transmembrane regions to understand their specific roles in assembly site formation and phage extrusion.
- experiment_type: Comparative viral assembly
  description: Comparison of M13 assembly mechanism with other filamentous phages to understand conservation and divergence of assembly strategies.
suggested_questions:
- question: How does ATP hydrolysis by G1P drive the formation of membrane adhesion zones?
  experts:
  - Viral biologists
  - Membrane biophysicists
  - Structural biologists
- question: What are the detailed molecular interactions between G1P and G4P in the assembly complex?
  experts:
  - Structural virologists
  - Protein interaction specialists
  - Cryo-EM experts
- question: How is the timing of phage assembly and extrusion coordinated at G1P-created sites?
  experts:
  - Systems virologists
  - Cell biologists
  - Viral assembly experts
- question: Can G1P assembly mechanisms be exploited for biotechnological applications like protein secretion?
  experts:
  - Biotechnology researchers
  - Protein engineering specialists
  - Synthetic biologists
tags:
- lbnl-favorites
</code></pre>
            </div>
        </details>
    </div>

    <!-- Pathway Visualization Link -->
    

    <style>
        /* Markdown Section Styles */
        .markdown-section {
            margin-bottom: 1rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 1rem;
            background-color: #f8f9fa;
        }

        .markdown-section summary {
            cursor: pointer;
            user-select: none;
        }

        .markdown-section summary h3 {
            margin: 0;
            color: #495057;
            font-size: 1.1rem;
        }

        .markdown-section summary:hover h3 {
            color: #007bff;
        }

        .markdown-section[open] {
            background-color: #fff;
        }

        .markdown-content {
            margin-top: 1rem;
            padding: 1rem;
            border-top: 1px solid #dee2e6;
        }

        /* Markdown content styling */
        .markdown-content h1 { font-size: 1.5rem; margin-top: 1.5rem; }
        .markdown-content h2 { font-size: 1.3rem; margin-top: 1.3rem; }
        .markdown-content h3 { font-size: 1.1rem; margin-top: 1.1rem; }
        .markdown-content h4 { font-size: 1rem; margin-top: 1rem; }

        .markdown-content pre {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 1rem;
            overflow-x: auto;
        }

        .markdown-content code {
            background-color: #f8f9fa;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
        }

        .markdown-content pre code {
            background: none;
            padding: 0;
        }

        .markdown-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
        }

        .markdown-content table th,
        .markdown-content table td {
            border: 1px solid #dee2e6;
            padding: 0.5rem;
            text-align: left;
        }

        .markdown-content table th {
            background-color: #f8f9fa;
            font-weight: bold;
        }

        .markdown-content blockquote {
            border-left: 4px solid #007bff;
            padding-left: 1rem;
            margin-left: 0;
            color: #666;
        }

        /* YAML Preview Styles */
        .yaml-preview {
            margin-top: 2rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 1rem;
            background-color: #f8f9fa;
        }

        .yaml-preview summary {
            cursor: pointer;
            user-select: none;
        }

        .yaml-preview summary h2 {
            margin: 0;
            color: #495057;
            font-size: 1.3rem;
        }

        .yaml-preview summary:hover h2 {
            color: #007bff;
        }

        .yaml-preview[open] {
            background-color: #fff;
        }

        .yaml-content {
            margin-top: 1rem;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 1rem;
            overflow-x: auto;
        }

        .yaml-content pre {
            margin: 0;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .yaml-content code {
            color: #333;
            background: none;
            padding: 0;
        }

        /* Pathway Link Styles */
        .pathway-link {
            margin: 1rem 0;
        }

        .btn-link {
            display: inline-block;
            padding: 0.5rem 1rem;
            background-color: #007bff;
            color: white !important;
            text-decoration: none;
            border-radius: 4px;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .btn-link:hover {
            background-color: #0056b3;
            text-decoration: none;
        }

        /* Voting buttons */
        .vote-buttons {
            display: inline-block;
            margin-left: 0.5rem;
        }

        .vote-btn {
            background: none;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 2px 6px;
            margin: 0 2px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            opacity: 0.6;
        }

        .vote-btn:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        .vote-btn.voted {
            opacity: 1;
            border-color: #28a745;
            background-color: #d4edda;
        }

        .vote-btn.voted-down {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
    </style>

    <script>
        // Add collapsible functionality
        document.querySelectorAll('.collapsible').forEach(element => {
            element.addEventListener('click', function() {
                this.classList.toggle('collapsed');
            });
        });

        // Voting functionality
        const VOTE_URL = 'https://script.google.com/macros/s/AKfycbwPKH7d3seuPNBtB0ugVjqGeTiByyOGD5vkqB_Ck6K8eOcPQYbJqBOuz6GFgXHKBNWK/exec';

        // Get or create session ID
        let sessionId = localStorage.getItem('review_session_id');
        if (!sessionId) {
            sessionId = 's' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('review_session_id', sessionId);
        }

        // Show previous votes on page load
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.vote-buttons').forEach(container => {
                const key = `vote_${container.dataset.g}_${container.dataset.a}_${container.dataset.act}`;
                const previousVote = localStorage.getItem(key);
                if (previousVote) {
                    const btn = container.querySelector(`[data-v="${previousVote}"]`);
                    if (btn) btn.classList.add(previousVote === 'up' ? 'voted' : 'voted-down');
                }
            });
        });

        // Handle vote clicks - Simple image beacon approach
        document.addEventListener('click', function(e) {
            if (!e.target.classList.contains('vote-btn')) return;

            // Prevent the click from bubbling to parent elements (like summary)
            e.preventDefault();
            e.stopPropagation();

            const btn = e.target;
            const container = btn.closest('.vote-buttons');
            if (!container) return;

            const voteType = btn.dataset.v;

            // Check if already voted (locally)
            const key = `vote_${container.dataset.g}_${container.dataset.a}_${container.dataset.act}`;
            const previousVote = localStorage.getItem(key);

            if (previousVote === voteType) {
                // Same vote - do nothing
                btn.style.animation = 'shake 0.5s';
                setTimeout(() => btn.style.animation = '', 500);
                return;
            }

            // Build URL
            const params = new URLSearchParams({
                gene_id: container.dataset.g,
                annotation_id: container.dataset.a,
                ref_id: container.dataset.r || '',
                action: container.dataset.act,
                vote: voteType,
                session_id: sessionId,
                ua: navigator.userAgent.substring(0, 100)
            });

            // Clear previous vote styling
            container.querySelectorAll('.vote-btn').forEach(b => {
                b.classList.remove('voted', 'voted-down');
            });

            // Apply new vote styling immediately (optimistic UI)
            btn.classList.add(voteType === 'up' ? 'voted' : 'voted-down');

            // Store locally
            localStorage.setItem(key, voteType);

            // Send vote using fetch with no-cors mode (fire and forget)
            const fullUrl = VOTE_URL + '?' + params;
            console.log('Sending vote to:', fullUrl);

            // Use fetch in no-cors mode - we won't get a response but the request will be sent
            fetch(fullUrl, {
                mode: 'no-cors',
                method: 'GET'
            }).then(() => {
                console.log('Vote request sent (no response due to no-cors mode)');
            }).catch(err => {
                console.warn('Vote may not have been recorded, but saved locally:', err);

                // Fallback: try image beacon as well
                const img = new Image();
                img.src = fullUrl;
            });
        });

        // Optional: Add shake animation for feedback
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-5px); }
                75% { transform: translateX(5px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>