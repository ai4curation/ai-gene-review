 syntax="proto3";
 package
// metamodel_version: 1.7.0
// An alternative splicing product (isoform) of the gene. Corresponds to UniProt isoform entries. Use this to document isoform-specific functions where different isoforms have distinct or even antagonistic biological activities. DEPRECATED: Use FunctionalIsoform instead for curated functional classes.
message AlternativeProduct
 {
  string id = 0
  string name = 0
  string sequenceNote = 0
  string description = 0
 }
message AnnotationExtension
 {
  string predicate = 0
  term term = 0
 }
// Assessment of overlap between rule conditions
message ConditionOverlapAssessment
 {
  overlapEnum assessment = 0
  string notes = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// A core function is a GO-CAM-like annotation of the core evolved functions of a gene. This is a synthesis of the reviewed core annotations, brought together into a unified GO-CAM-like representation.
message CoreFunction
 {
  string description = 0
 repeated  supportingTextInReference supportedBy = 0
  term molecularFunction = 0
 repeated  term directlyInvolvedIn = 0
 repeated  term locations = 0
 repeated  term anatomicalLocations = 0
 repeated  term substrates = 0
  term inComplex = 0
 }
// An embedded representation of an ARBA or UniRule for storage in YAML. Captures the essential structure: conditions (antecedent) and GO annotations (consequent).
message EmbeddedRule
 {
  string ruleId = 0
 repeated  ruleConditionSet conditionSets = 0
 repeated  ruleGOAnnotation goAnnotations = 0
  interPro2GORedundancy ipr2goRedundancy = 0
 repeated  ruleReviewEntry entries = 0
  integer reviewedProteinCount = 0
  integer unreviewedProteinCount = 0
  string createdDate = 0
  string modifiedDate = 0
 }
// An existing annotation from the GO database, plus a review of the annotation.
message ExistingAnnotation
 {
  term term = 0
 repeated  annotationExtension extensions = 0
  boolean negated = 0
  evidenceType evidenceType = 0
  reference originalReferenceId = 0
  boolean retired = 0
  string isoform = 0
 repeated  string supportingEntities = 0
  review review = 0
 }
// A suggested experiment to answer a question about the gene
message Experiment
 {
  string hypothesis = 0
  string description = 0
  string experimentType = 0
 }
// A finding is a statement about a gene, which is supported by a reference. Similar to "comments" in uniprot
message Finding
 {
  string statement = 0
  string supportingText = 0
  boolean fullTextUnavailable = 0
  manuscriptSection referenceSectionType = 0
 }
// A curated functional isoform class. Unlike AlternativeProduct (which maps 1:1 to UniProt isoforms), this captures FUNCTIONALLY RELEVANT distinctions that may: - Group multiple UniProt isoforms into a functional class (e.g., WT1 +KTS isoforms) - Represent cleavage products from polyproteins (e.g., POMC peptides) - Describe modification states or conformational variants Only create entries when there ARE functionally distinct forms worth documenting.
message FunctionalIsoform
 {
  string id = 0
  string name = 0
  functionalIsoformTypeEnum type = 0
 repeated  functionalIsoformMapping mapsTo = 0
  string description = 0
 repeated  term isoformSpecificTerms = 0
 }
// A mapping from a functional isoform class to underlying UniProt identifiers. Allows grouping multiple UniProt isoforms or chains into a single functional class.
message FunctionalIsoformMapping
 {
  functionalIsoformMappingTypeEnum type = 0
 repeated  string ids = 0
  string residues = 0
 }
// Complete review for a gene
message GeneReview
 {
  string id = 0
  string geneSymbol = 0
  productTypeEnum productType = 0
 repeated  string aliases = 0
 repeated  string tags = 0
  geneReviewStatusEnum status = 0
  string description = 0
  term taxon = 0
 repeated  alternativeProduct alternativeProducts = 0
 repeated  functionalIsoform functionalIsoforms = 0
 repeated  reference references = 0
 repeated  existingAnnotation existingAnnotations = 0
 repeated  coreFunction coreFunctions = 0
 repeated  proposedOntologyTerm proposedNewTerms = 0
 repeated  question suggestedQuestions = 0
 repeated  experiment suggestedExperiments = 0
 }
// Assessment of GO term specificity
message GOSpecificityAssessment
 {
  specificityEnum assessment = 0
  string notes = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// Analysis of whether rule GO annotations are redundant with existing InterPro2GO mappings from the GO Consortium.
message InterPro2GORedundancy
 {
 repeated  redundantAnnotation redundantAnnotations = 0
 repeated  string novelAnnotations = 0
  string summary = 0
 }
// Assessment of literature support for the rule
message LiteratureSupportAssessment
 {
  literatureSupportEnum assessment = 0
  string notes = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// Overlap statistics between two domain conditions (InterPro, FunFam, etc.) in the same condition set. Provides set difference metrics to measure uniqueness and redundancy.
message PairwiseOverlap
 {
  string conditionA = 0
  string conditionB = 0
  string conditionALabel = 0
  string conditionBLabel = 0
  proteinDatabaseEnum proteinDatabase = 0
  integer countA = 0
  integer countB = 0
  integer intersectionCount = 0
  integer aMinusBCount = 0
  integer bMinusACount = 0
  float jaccardSimilarity = 0
  float containmentAInB = 0
  float containmentBInA = 0
  overlapInterpretationEnum interpretation = 0
 repeated  integer conditionAInSets = 0
 repeated  integer conditionBInSets = 0
 }
// Assessment of rule parsimony (simplicity vs complexity)
message ParsimonyAssessment
 {
  parsimonyEnum assessment = 0
  string notes = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// A proposed new ontology term that should exist but doesn't currently
message ProposedOntologyTerm
 {
  string proposedName = 0
  string proposedDefinition = 0
  string justification = 0
  term proposedParent = 0
 repeated  termMapping proposedMappings = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// A question to be answered about the gene
message Question
 {
  string question = 0
 repeated  string experts = 0
 }
// A GO annotation that is redundant with an existing InterPro2GO mapping
message RedundantAnnotation
 {
  string goId = 0
  string goLabel = 0
  string interproSource = 0
  string interproLabel = 0
 }
// A reference is a published text  that describes a finding or a method. References might be formal publications (where the ID is a PMID), or for methods, a GO_REF. Additionally, a reference to a local ad-hoc analysis or review can be made by using the `file:` prefix.
message Reference
 {
  string id = 0
  string title = 0
 repeated  finding findings = 0
  boolean isInvalid = 0
  boolean fullTextUnavailable = 0
 }
// A relationship from this entry to another entry in the rule. Categorized as PREDICTS (this → other), PREDICTED_BY (other → this), or EQUIV (bidirectional).
message RelatedEntry
 {
  entryRelationshipEnum relationship = 0
  string targetId = 0
  float containment = 0
  float jaccardSimilarity = 0
  integer intersectionCount = 0
  integer exclusiveCount = 0
 }
// A review of an existing annotation.
message Review
 {
  string summary = 0
  actionEnum action = 0
  string reason = 0
 repeated  term proposedReplacementTerms = 0
 repeated  reference additionalReferenceIds = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// A single condition in a rule antecedent
message RuleCondition
 {
  conditionTypeEnum conditionType = 0
  string value = 0
  string curie = 0
  string label = 0
  interProTypeEnum interproType = 0
  boolean negated = 0
  integer proteinCount = 0
  proteinDatabaseEnum proteinDatabase = 0
  float uniquenessScore = 0
 repeated  string sampleProteins = 0
 }
// A set of conditions that must ALL be true (conjunction/AND). Multiple condition sets in a rule are OR-ed together (disjunction).
message RuleConditionSet
 {
  integer number = 0
 repeated  ruleCondition conditions = 0
  string notes = 0
 repeated  pairwiseOverlap pairwiseOverlap = 0
 }
// A GO annotation produced by the rule
message RuleGOAnnotation
 {
  string goId = 0
  string goLabel = 0
  string aspect = 0
 }
// A review of a UniProt annotation rule (ARBA or UniRule). Each review covers ONE rule and assesses its quality, literature support, and biological appropriateness.
message RuleReview
 {
  string id = 0
  string description = 0
 repeated  reference references = 0
  ruleReviewStatusEnum status = 0
  ruleTypeEnum ruleType = 0
  embeddedRule rule = 0
  string reviewSummary = 0
  ruleActionEnum action = 0
  string actionRationale = 0
 repeated  string suggestedModifications = 0
  parsimonyAssessment parsimony = 0
  literatureSupportAssessment literatureSupport = 0
  conditionOverlapAssessment conditionOverlap = 0
  gOSpecificityAssessment goSpecificity = 0
  taxonomicScopeAssessment taxonomicScope = 0
  float confidence = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// An entity in the rule - either a domain/family condition or a GO term target. Each entry tracks its relationships (predictions, predicted-by, equivalence) to other entries.
message RuleReviewEntry
 {
  string id = 0
  string label = 0
  entryTypeEnum type = 0
 repeated  integer appearsInConditionSets = 0
  integer proteinCount = 0
  string source = 0
 repeated  string assertedPredictedGoTerms = 0
 repeated  relatedEntry relatedEntries = 0
 }
// A supporting text in a reference.
message SupportingTextInReference
 {
  reference referenceId = 0
  string supportingText = 0
  string supportingTextFulltext = 0
  boolean fullTextUnavailable = 0
  manuscriptSection referenceSectionType = 0
 }
// Assessment of taxonomic restriction appropriateness
message TaxonomicScopeAssessment
 {
  taxonomicScopeEnum assessment = 0
  string notes = 0
 repeated  supportingTextInReference supportedBy = 0
 }
// A term in a specific ontology
message Term
 {
  string id = 0
  string label = 0
  string description = 0
  string ontology = 0
 }
// A mapping between the proposed term and an equivalent term in another ontology
message TermMapping
 {
  string predicate = 0
  term targetTerm = 0
 }
