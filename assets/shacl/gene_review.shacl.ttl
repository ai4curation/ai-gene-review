@prefix ECO: <http://purl.obolibrary.org/obo/ECO_> .
@prefix IAO: <http://purl.obolibrary.org/obo/IAO_> .
@prefix SO: <http://purl.obolibrary.org/obo/SO_> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix gene_review: <https://w3id.org/ai4curation/gene_review/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

gene_review:GeneReview a sh:NodeShape ;
    sh:closed true ;
    sh:description "Complete review for a gene" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:CoreFunction ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 10 ;
            sh:path gene_review:core_functions ],
        [ sh:datatype xsd:string ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:aliases ],
        [ sh:class gene_review:ExistingAnnotation ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 9 ;
            sh:path gene_review:existing_annotations ],
        [ sh:description "Type of gene product (protein, ncRNA, etc.)" ;
            sh:in ( SO:0001217 SO:0000276 SO:0001877 SO:0000275 SO:0000274 SO:0000253 SO:0000252 SO:0001035 SO:0000644 SO:0000336 SO:0000655 ) ;
            sh:maxCount 1 ;
            sh:order 2 ;
            sh:path gene_review:product_type ],
        [ sh:description "Overall status of the gene review" ;
            sh:in ( "INITIALIZED" "IN_PROGRESS" "DRAFT" "COMPLETE" ) ;
            sh:maxCount 1 ;
            sh:order 5 ;
            sh:path gene_review:status ],
        [ sh:class gene_review:Experiment ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 13 ;
            sh:path gene_review:suggested_experiments ],
        [ sh:class gene_review:Reference ;
            sh:nodeKind sh:IRI ;
            sh:order 8 ;
            sh:path gene_review:references ],
        [ sh:datatype xsd:string ;
            sh:description "Tags associated with the gene for categorization and organization" ;
            sh:nodeKind sh:Literal ;
            sh:order 4 ;
            sh:path gene_review:tags ],
        [ sh:datatype xsd:string ;
            sh:description "Description of the entity" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path dcterms:description ],
        [ sh:datatype xsd:string ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:id ],
        [ sh:datatype xsd:string ;
            sh:description "Symbol of the gene" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:gene_symbol ],
        [ sh:class gene_review:ProposedOntologyTerm ;
            sh:description "Proposed new ontology terms that should exist but don't" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 11 ;
            sh:path gene_review:proposed_new_terms ],
        [ sh:class gene_review:Question ;
            sh:description "Suggested questions to ask experts about the gene. Only include if not obvious from the literature." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 12 ;
            sh:path gene_review:suggested_questions ],
        [ sh:class gene_review:Term ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 7 ;
            sh:path gene_review:taxon ] ;
    sh:targetClass gene_review:GeneReview .

gene_review:RuleReview a sh:NodeShape ;
    sh:closed true ;
    sh:description "A review of a UniProt annotation rule (ARBA or UniRule). Each review covers ONE rule and assesses its quality, literature support, and biological appropriateness." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:description "Recommended action for this rule" ;
            sh:in ( "ACCEPT" "MODIFY" "DEPRECATE" "SPLIT" "MERGE" "UNDECIDED" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 7 ;
            sh:path gene_review:action ],
        [ sh:class gene_review:TaxonomicScopeAssessment ;
            sh:description "Assessment of taxonomic restriction appropriateness" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 14 ;
            sh:path gene_review:taxonomic_scope ],
        [ sh:datatype xsd:string ;
            sh:description "Description of the entity" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path dcterms:description ],
        [ sh:datatype xsd:string ;
            sh:description "Overall summary of the review findings" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path gene_review:review_summary ],
        [ sh:class gene_review:GOSpecificityAssessment ;
            sh:description "Assessment of GO term specificity" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 13 ;
            sh:path gene_review:go_specificity ],
        [ sh:description "Type of rule (ARBA or UniRule)" ;
            sh:in ( "ARBA" "UNIRULE" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 4 ;
            sh:path gene_review:rule_type ],
        [ sh:class gene_review:SupportingTextInReference ;
            sh:description "Supporting text from literature for this review" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 16 ;
            sh:path gene_review:supported_by ],
        [ sh:datatype xsd:string ;
            sh:description "Specific modifications suggested if action is MODIFY" ;
            sh:nodeKind sh:Literal ;
            sh:order 9 ;
            sh:path gene_review:suggested_modifications ],
        [ sh:class gene_review:Reference ;
            sh:nodeKind sh:IRI ;
            sh:order 2 ;
            sh:path gene_review:references ],
        [ sh:class gene_review:ConditionOverlapAssessment ;
            sh:description "Assessment of overlap between rule conditions" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 12 ;
            sh:path gene_review:condition_overlap ],
        [ sh:datatype xsd:string ;
            sh:description "Rationale for the recommended action" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 8 ;
            sh:path gene_review:action_rationale ],
        [ sh:description "Status of the rule review" ;
            sh:in ( "PENDING" "IN_PROGRESS" "COMPLETE" ) ;
            sh:maxCount 1 ;
            sh:order 3 ;
            sh:path gene_review:status ],
        [ sh:datatype xsd:float ;
            sh:description "Overall confidence in the rule (0.0 to 1.0)" ;
            sh:maxCount 1 ;
            sh:maxInclusive 1e+00 ;
            sh:minInclusive 0e+00 ;
            sh:nodeKind sh:Literal ;
            sh:order 15 ;
            sh:path gene_review:confidence ],
        [ sh:class gene_review:EmbeddedRule ;
            sh:description "The embedded rule being reviewed" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 5 ;
            sh:path gene_review:rule ],
        [ sh:class gene_review:LiteratureSupportAssessment ;
            sh:description "Assessment of literature support for the rule" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 11 ;
            sh:path gene_review:literature_support ],
        [ sh:datatype xsd:string ;
            sh:description "The rule ID (e.g., ARBA00026249, UR000000070)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:id ],
        [ sh:class gene_review:ParsimonyAssessment ;
            sh:description "Assessment of rule parsimony (simplicity vs complexity)" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 10 ;
            sh:path gene_review:parsimony ] ;
    sh:targetClass gene_review:RuleReview .

gene_review:AnnotationExtension a sh:NodeShape ;
    sh:closed true ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Predicate of the extension" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path rdf:predicate ],
        [ sh:class gene_review:Term ;
            sh:description "Term to be annotated" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 1 ;
            sh:path gene_review:term ] ;
    sh:targetClass gene_review:AnnotationExtension .

gene_review:ConditionOverlapAssessment a sh:NodeShape ;
    sh:closed true ;
    sh:description "Assessment of overlap between rule conditions" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:description "Overlap assessment value" ;
            sh:in ( "NONE" "MINOR" "SIGNIFICANT" "COMPLETE" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path gene_review:assessment ],
        [ sh:datatype xsd:string ;
            sh:description "Notes on condition overlap - e.g., \"IPR000001 and IPR000002 both represent the same structural domain\" or \"FunFam subsumes the InterPro entry\"" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:notes ],
        [ sh:class gene_review:SupportingTextInReference ;
            sh:description "Supporting text from literature for this assessment" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path gene_review:supported_by ] ;
    sh:targetClass gene_review:ConditionOverlapAssessment .

gene_review:CoreFunction a sh:NodeShape ;
    sh:closed true ;
    sh:description "A core function is a GO-CAM-like annotation of the core evolved functions of a gene. This is a synthesis of the reviewed core annotations, brought together into a unified GO-CAM-like representation." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:Term ;
            sh:nodeKind sh:IRI ;
            sh:order 6 ;
            sh:path gene_review:substrates ],
        [ sh:class gene_review:Term ;
            sh:nodeKind sh:IRI ;
            sh:order 5 ;
            sh:path gene_review:anatomical_locations ],
        [ sh:class gene_review:SupportingTextInReference ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 1 ;
            sh:path gene_review:supported_by ],
        [ sh:class gene_review:Term ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path gene_review:locations ],
        [ sh:class gene_review:Term ;
            sh:nodeKind sh:IRI ;
            sh:order 3 ;
            sh:path gene_review:directly_involved_in ],
        [ sh:datatype xsd:string ;
            sh:description "Description of the core function" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:description ],
        [ sh:class gene_review:Term ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 7 ;
            sh:path gene_review:in_complex ],
        [ sh:class gene_review:Term ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 2 ;
            sh:path gene_review:molecular_function ] ;
    sh:targetClass gene_review:CoreFunction .

gene_review:EmbeddedRule a sh:NodeShape ;
    sh:closed true ;
    sh:description "An embedded representation of an ARBA or UniRule for storage in YAML. Captures the essential structure: conditions (antecedent) and GO annotations (consequent)." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:RuleReviewEntry ;
            sh:description "Entry-centric view of all entities in the rule (domain conditions and GO terms). Each entry tracks its relationships (PREDICTS, PREDICTED_BY, EQUIV) to other entries." ;
            sh:minCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path gene_review:entries ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of reviewed (Swiss-Prot) proteins annotated by this rule" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path gene_review:reviewed_protein_count ],
        [ sh:class gene_review:RuleConditionSet ;
            sh:description "List of condition sets (OR-ed together). Each condition set is a conjunction (AND) of conditions. The rule fires if ANY condition set matches." ;
            sh:minCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 1 ;
            sh:path gene_review:condition_sets ],
        [ sh:datatype xsd:string ;
            sh:description "Date the rule was last modified" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 8 ;
            sh:path gene_review:modified_date ],
        [ sh:datatype xsd:string ;
            sh:description "Original rule ID (e.g., ARBA00026249, UR000000070)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:rule_id ],
        [ sh:datatype xsd:string ;
            sh:description "Date the rule was created" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 7 ;
            sh:path gene_review:created_date ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of unreviewed (TrEMBL) proteins annotated by this rule" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path gene_review:unreviewed_protein_count ],
        [ sh:class gene_review:InterPro2GORedundancy ;
            sh:description "Analysis of redundancy with InterPro2GO mappings" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 3 ;
            sh:path gene_review:ipr2go_redundancy ],
        [ sh:class gene_review:RuleGOAnnotation ;
            sh:description "GO terms assigned by this rule" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path gene_review:go_annotations ] ;
    sh:targetClass gene_review:EmbeddedRule .

gene_review:ExistingAnnotation a sh:NodeShape ;
    sh:closed true ;
    sh:description "An existing annotation from the GO database, plus a review of the annotation." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:Reference ;
            sh:description "ID of the original reference" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path gene_review:original_reference_id ],
        [ sh:datatype xsd:boolean ;
            sh:description "Whether the term is negated" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:negated ],
        [ sh:description "Evidence code (e.g., IDA, IBA, ISS, TAS)" ;
            sh:in ( ECO:0000269 ECO:0000314 ECO:0000353 ECO:0000315 ECO:0000316 ECO:0000270 ECO:0006056 ECO:0007005 ECO:0007001 ECO:0007003 ECO:0007007 ECO:0000318 ECO:0000319 ECO:0000320 ECO:0000321 ECO:0000250 ECO:0000266 ECO:0000247 ECO:0000255 ECO:0000317 ECO:0000245 ECO:0000304 ECO:0000303 ECO:0000305 ECO:0000307 ECO:0000501 ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 3 ;
            sh:path gene_review:evidence_type ],
        [ sh:class gene_review:Term ;
            sh:description "Term to be annotated" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 0 ;
            sh:path gene_review:term ],
        [ sh:class gene_review:AnnotationExtension ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 1 ;
            sh:path gene_review:extensions ],
        [ sh:datatype xsd:boolean ;
            sh:description "Whether the annotation is retired or replaced" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path gene_review:retired ],
        [ sh:datatype xsd:string ;
            sh:description "IDs of the supporting entities" ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path gene_review:supporting_entities ],
        [ sh:class gene_review:Review ;
            sh:description "Review of the gene" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 7 ;
            sh:path gene_review:review ] ;
    sh:targetClass gene_review:ExistingAnnotation .

gene_review:Experiment a sh:NodeShape ;
    sh:closed true ;
    sh:description "A suggested experiment to answer a question about the gene" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Type of experiment or assay to answer the question" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:experiment_type ],
        [ sh:datatype xsd:string ;
            sh:description "Detailed description of the experiment to be performed" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:description ],
        [ sh:datatype xsd:string ;
            sh:description "Hypothesis to be investigated" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:hypothesis ] ;
    sh:targetClass gene_review:Experiment .

gene_review:Finding a sh:NodeShape ;
    sh:closed true ;
    sh:description "A finding is a statement about a gene, which is supported by a reference. Similar to \"comments\" in uniprot" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Supporting text from the publication. This should be exact substrings. Different substrings can be broken up by '...'s. These substrings will be checked against the actual text of the paper. If editorialization is necessary, put this in square brackets (this is not checked). For example, you can say '...[CFAP300 shows] transport within cilia is IFT dependent...'" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:supporting_text ],
        [ sh:datatype xsd:string ;
            sh:description "Concise statement describing an aspect of the gene" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:statement ],
        [ sh:description "Type of section in the reference (e.g., 'ABSTRACT', 'METHODS', 'RESULTS', 'DISCUSSION')" ;
            sh:in ( IAO:0000305 IAO:0000315 IAO:0000630 IAO:0000316 IAO:0000639 IAO:0000317 IAO:0000318 IAO:0000319 IAO:0000615 IAO:0000326 IAO:0000326 "DATABASE_ENTRY" "OTHER" ) ;
            sh:maxCount 1 ;
            sh:order 3 ;
            sh:path gene_review:reference_section_type ],
        [ sh:datatype xsd:boolean ;
            sh:description "Whether the full text is unavailable" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:full_text_unavailable ] ;
    sh:targetClass gene_review:Finding .

gene_review:GOSpecificityAssessment a sh:NodeShape ;
    sh:closed true ;
    sh:description "Assessment of GO term specificity" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Notes on specificity - suggested alternative terms if too broad/narrow" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:notes ],
        [ sh:description "Specificity assessment value" ;
            sh:in ( "TOO_BROAD" "APPROPRIATE" "TOO_NARROW" "MISMATCHED" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path gene_review:assessment ],
        [ sh:class gene_review:SupportingTextInReference ;
            sh:description "Supporting text from literature for this assessment" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path gene_review:supported_by ] ;
    sh:targetClass gene_review:GOSpecificityAssessment .

gene_review:InterPro2GORedundancy a sh:NodeShape ;
    sh:closed true ;
    sh:description "Analysis of whether rule GO annotations are redundant with existing InterPro2GO mappings from the GO Consortium." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Human-readable summary of redundancy analysis" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:summary ],
        [ sh:class gene_review:RedundantAnnotation ;
            sh:description "GO annotations that already exist in InterPro2GO" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 0 ;
            sh:path gene_review:redundant_annotations ],
        [ sh:datatype xsd:string ;
            sh:description "GO IDs not found in InterPro2GO for any rule condition" ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:novel_annotations ] ;
    sh:targetClass gene_review:InterPro2GORedundancy .

gene_review:LiteratureSupportAssessment a sh:NodeShape ;
    sh:closed true ;
    sh:description "Assessment of literature support for the rule" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:SupportingTextInReference ;
            sh:description "Supporting text from literature for this assessment" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path gene_review:supported_by ],
        [ sh:datatype xsd:string ;
            sh:description "Notes on literature support - key papers, gaps in evidence" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:notes ],
        [ sh:description "Level of literature support" ;
            sh:in ( "STRONG" "MODERATE" "WEAK" "NONE" "CONTRADICTED" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path gene_review:assessment ] ;
    sh:targetClass gene_review:LiteratureSupportAssessment .

gene_review:PairwiseOverlap a sh:NodeShape ;
    sh:closed true ;
    sh:description "Overlap statistics between two domain conditions (InterPro, FunFam, etc.) in the same condition set. Provides set difference metrics to measure uniqueness and redundancy." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:integer ;
            sh:description "List of 1-based condition set indices where condition B appears" ;
            sh:minInclusive 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 15 ;
            sh:path gene_review:condition_b_in_sets ],
        [ sh:datatype xsd:float ;
            sh:description "Proportion of B contained in A: |A ∩ B| / |B|. 1.0 means B is completely contained in A (B ⊆ A)." ;
            sh:maxCount 1 ;
            sh:maxInclusive 1e+00 ;
            sh:minCount 1 ;
            sh:minInclusive 0e+00 ;
            sh:nodeKind sh:Literal ;
            sh:order 12 ;
            sh:path gene_review:containment_b_in_a ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins matching condition A in specified database" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:minInclusive 0 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path gene_review:count_a ],
        [ sh:datatype xsd:integer ;
            sh:description "List of 1-based condition set indices where condition A appears" ;
            sh:minInclusive 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 14 ;
            sh:path gene_review:condition_a_in_sets ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins in A but not in B (|A - B|). Represents the uniqueness of A with respect to B. High value = A adds unique coverage beyond B. Zero value = A is completely contained in B (A ⊆ B)." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:minInclusive 0 ;
            sh:nodeKind sh:Literal ;
            sh:order 8 ;
            sh:path gene_review:a_minus_b_count ],
        [ sh:datatype xsd:string ;
            sh:description "Second condition value (e.g., IPR008255)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:condition_b ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins matching condition B in specified database" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:minInclusive 0 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path gene_review:count_b ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins matching BOTH A AND B (|A ∩ B|) in specified database" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:minInclusive 0 ;
            sh:nodeKind sh:Literal ;
            sh:order 7 ;
            sh:path gene_review:intersection_count ],
        [ sh:description "Which protein database was queried (SWISSPROT or TREMBL)" ;
            sh:in ( "SWISSPROT" "TREMBL" "UNIPROT" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 4 ;
            sh:path gene_review:protein_database ],
        [ sh:datatype xsd:float ;
            sh:description "Jaccard similarity coefficient: |A ∩ B| / |A ∪ B| = intersection / (count_a + count_b - intersection). 0.0 = no overlap, 1.0 = complete overlap." ;
            sh:maxCount 1 ;
            sh:maxInclusive 1e+00 ;
            sh:minCount 1 ;
            sh:minInclusive 0e+00 ;
            sh:nodeKind sh:Literal ;
            sh:order 10 ;
            sh:path gene_review:jaccard_similarity ],
        [ sh:datatype xsd:string ;
            sh:description "Human-readable label for condition B" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:condition_b_label ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins in B but not in A (|B - A|). Represents the uniqueness of B with respect to A. High value = B adds unique coverage beyond A. Zero value = B is completely contained in A (B ⊆ A)." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:minInclusive 0 ;
            sh:nodeKind sh:Literal ;
            sh:order 9 ;
            sh:path gene_review:b_minus_a_count ],
        [ sh:description "Automated interpretation of overlap pattern" ;
            sh:in ( "REDUNDANT" "SUBSET" "HIGH_OVERLAP" "MODERATE" "LOW" "DISJOINT" ) ;
            sh:maxCount 1 ;
            sh:order 13 ;
            sh:path gene_review:interpretation ],
        [ sh:datatype xsd:float ;
            sh:description "Proportion of A contained in B: |A ∩ B| / |A|. 1.0 means A is completely contained in B (A ⊆ B)." ;
            sh:maxCount 1 ;
            sh:maxInclusive 1e+00 ;
            sh:minCount 1 ;
            sh:minInclusive 0e+00 ;
            sh:nodeKind sh:Literal ;
            sh:order 11 ;
            sh:path gene_review:containment_a_in_b ],
        [ sh:datatype xsd:string ;
            sh:description "Human-readable label for condition A" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:condition_a_label ],
        [ sh:datatype xsd:string ;
            sh:description "First condition value (e.g., IPR005982)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:condition_a ] ;
    sh:targetClass gene_review:PairwiseOverlap .

gene_review:ParsimonyAssessment a sh:NodeShape ;
    sh:closed true ;
    sh:description "Assessment of rule parsimony (simplicity vs complexity)" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:description "Parsimony assessment value" ;
            sh:in ( "PARSIMONIOUS" "ACCEPTABLE" "REDUNDANT" "OVERLY_COMPLEX" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path gene_review:assessment ],
        [ sh:datatype xsd:string ;
            sh:description "Notes on parsimony - e.g., which conditions are redundant" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:notes ],
        [ sh:class gene_review:SupportingTextInReference ;
            sh:description "Supporting text from literature for this assessment" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path gene_review:supported_by ] ;
    sh:targetClass gene_review:ParsimonyAssessment .

gene_review:ProposedOntologyTerm a sh:NodeShape ;
    sh:closed true ;
    sh:description "A proposed new ontology term that should exist but doesn't currently" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:Term ;
            sh:description "Proposed parent term in the ontology hierarchy" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 3 ;
            sh:path gene_review:proposed_parent ],
        [ sh:class gene_review:TermMapping ;
            sh:description "Proposed mappings to equivalent terms in other ontologies" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 4 ;
            sh:path gene_review:proposed_mappings ],
        [ sh:class gene_review:SupportingTextInReference ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 5 ;
            sh:path gene_review:supported_by ],
        [ sh:datatype xsd:string ;
            sh:description "Proposed name for the new term" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:proposed_name ],
        [ sh:datatype xsd:string ;
            sh:description "Proposed definition for the new term" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:proposed_definition ],
        [ sh:datatype xsd:string ;
            sh:description "Justification for why this term is needed" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:justification ] ;
    sh:targetClass gene_review:ProposedOntologyTerm .

gene_review:Question a sh:NodeShape ;
    sh:closed true ;
    sh:description "A question to be answered about the gene" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Question to be answered" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:question ],
        [ sh:datatype xsd:string ;
            sh:description "Experts to answer the question. These should be drawn from the authors of relevant publications already referenced. If no suitable experts are available, it's OK to leave this as an empty list!" ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:experts ] ;
    sh:targetClass gene_review:Question .

gene_review:RedundantAnnotation a sh:NodeShape ;
    sh:closed true ;
    sh:description "A GO annotation that is redundant with an existing InterPro2GO mapping" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "InterPro domain label" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:interpro_label ],
        [ sh:datatype xsd:string ;
            sh:description "GO term ID (e.g., GO:0004791)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:go_id ],
        [ sh:datatype xsd:string ;
            sh:description "GO term label" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:go_label ],
        [ sh:datatype xsd:string ;
            sh:description "InterPro ID that already maps to this GO term in ipr2go" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:interpro_source ] ;
    sh:targetClass gene_review:RedundantAnnotation .

gene_review:RelatedEntry a sh:NodeShape ;
    sh:closed true ;
    sh:description "A relationship from this entry to another entry in the rule. Categorized as PREDICTS (this → other), PREDICTED_BY (other → this), or EQUIV (bidirectional)." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "ID of the related entry" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:target_id ],
        [ sh:datatype xsd:float ;
            sh:description "Containment score (0-1) for the directional relationship. For PREDICTS: this_in_target (how much of this is contained in target). For PREDICTED_BY: target_in_this (how much of target is contained in this). For EQUIV: max of both directions." ;
            sh:maxCount 1 ;
            sh:maxInclusive 1e+00 ;
            sh:minInclusive 0e+00 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:containment ],
        [ sh:description "Type of relationship" ;
            sh:in ( "PREDICTS" "PREDICTED_BY" "EQUIV" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path gene_review:relationship ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins exclusive to the \"source\" of the relationship. For PREDICTS: proteins in this but not target. For PREDICTED_BY: proteins in target but not this. For EQUIV: proteins in this but not target (A - B)." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path gene_review:exclusive_count ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins in both this and target" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 4 ;
            sh:path gene_review:intersection_count ],
        [ sh:datatype xsd:float ;
            sh:description "Jaccard similarity coefficient (0-1)" ;
            sh:maxCount 1 ;
            sh:maxInclusive 1e+00 ;
            sh:minInclusive 0e+00 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:jaccard_similarity ] ;
    sh:targetClass gene_review:RelatedEntry .

gene_review:Review a sh:NodeShape ;
    sh:closed true ;
    sh:description "A review of an existing annotation." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:SupportingTextInReference ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 5 ;
            sh:path gene_review:supported_by ],
        [ sh:datatype xsd:string ;
            sh:description "Reason for the action" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:reason ],
        [ sh:class gene_review:Reference ;
            sh:description "IDs of the references" ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path gene_review:additional_reference_ids ],
        [ sh:class gene_review:Term ;
            sh:description "If the action is MODIFY, then this is a list of proposed replacement terms" ;
            sh:nodeKind sh:IRI ;
            sh:order 3 ;
            sh:path gene_review:proposed_replacement_terms ],
        [ sh:description "Action to be taken" ;
            sh:in ( "ACCEPT" "KEEP_AS_NON_CORE" "REMOVE" "MODIFY" "MARK_AS_OVER_ANNOTATED" "UNDECIDED" "PENDING" "NEW" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 1 ;
            sh:path gene_review:action ],
        [ sh:datatype xsd:string ;
            sh:description "Summary of the review" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:summary ] ;
    sh:targetClass gene_review:Review .

gene_review:RuleCondition a sh:NodeShape ;
    sh:closed true ;
    sh:description "A single condition in a rule antecedent" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:boolean ;
            sh:description "Whether this is a negative condition (NOT)" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path gene_review:negated ],
        [ sh:description "Which protein database was queried (e.g., SWISSPROT, TREMBL). Defaults to SWISSPROT (reviewed proteins only). Important to specify since counts differ dramatically between databases." ;
            sh:in ( "SWISSPROT" "TREMBL" "UNIPROT" ) ;
            sh:maxCount 1 ;
            sh:order 7 ;
            sh:path gene_review:protein_database ],
        [ sh:datatype xsd:string ;
            sh:description "The condition value (e.g., IPR000001, NCBITaxon:4751)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:value ],
        [ sh:description "InterPro entry type (family, domain, active_site, etc.). Only populated for InterPro conditions (condition_type = INTERPRO). Extracted from InterPro metadata or API." ;
            sh:in ( "FAMILY" "DOMAIN" "ACTIVE_SITE" "BINDING_SITE" "CONSERVED_SITE" "REPEAT" "HOMOLOGOUS_SUPERFAMILY" "PTM" ) ;
            sh:maxCount 1 ;
            sh:order 4 ;
            sh:path gene_review:interpro_type ],
        [ sh:datatype xsd:string ;
            sh:description "Human-readable label" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:label ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins matching this condition in specified database. Only populated for domain/family conditions (InterPro, FunFam, PANTHER). Null for taxon and other condition types." ;
            sh:maxCount 1 ;
            sh:minInclusive 0 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path gene_review:protein_count ],
        [ sh:description "Type of condition" ;
            sh:in ( "INTERPRO" "FUNFAM" "PANTHER" "PFAM" "TAXON" "SEQUENCE_LENGTH" "OTHER" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path gene_review:condition_type ],
        [ sh:datatype xsd:float ;
            sh:description "Measure of domain uniqueness (0.0 to 1.0). Calculated as 1.0 - mean(containment in other domains in same condition set). High score = more unique/specific domain. Low score = broad domain that commonly co-occurs." ;
            sh:maxCount 1 ;
            sh:maxInclusive 1e+00 ;
            sh:minInclusive 0e+00 ;
            sh:nodeKind sh:Literal ;
            sh:order 8 ;
            sh:path gene_review:uniqueness_score ],
        [ sh:datatype xsd:string ;
            sh:description "Normalized CURIE form (e.g., InterPro:IPR000001, NCBITaxon:4751)" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:curie ],
        [ sh:datatype xsd:string ;
            sh:description "Sample UniProt IDs matching this condition. Only included when protein_count < 20 to avoid bloating files. Limited to max 10 examples." ;
            sh:nodeKind sh:Literal ;
            sh:order 9 ;
            sh:path gene_review:sample_proteins ] ;
    sh:targetClass gene_review:RuleCondition .

gene_review:RuleConditionSet a sh:NodeShape ;
    sh:closed true ;
    sh:description "A set of conditions that must ALL be true (conjunction/AND). Multiple condition sets in a rule are OR-ed together (disjunction)." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:RuleCondition ;
            sh:description "Conditions in this set (all must match)" ;
            sh:minCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 1 ;
            sh:path gene_review:conditions ],
        [ sh:datatype xsd:integer ;
            sh:description "1-based condition set number (CS1, CS2, CS3, etc.)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:minInclusive 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:number ],
        [ sh:datatype xsd:string ;
            sh:description "Reviewer notes on this specific condition set" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:notes ],
        [ sh:class gene_review:PairwiseOverlap ;
            sh:description "Pairwise overlap statistics for domain conditions in this set. Only computed for InterPro, FunFam, PANTHER conditions. Provides set difference metrics (uniqueness) and Jaccard similarity." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 3 ;
            sh:path gene_review:pairwise_overlap ] ;
    sh:targetClass gene_review:RuleConditionSet .

gene_review:RuleGOAnnotation a sh:NodeShape ;
    sh:closed true ;
    sh:description "A GO annotation produced by the rule" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "GO term ID (e.g., GO:0004791)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:go_id ],
        [ sh:datatype xsd:string ;
            sh:description "GO term name" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:go_label ],
        [ sh:datatype xsd:string ;
            sh:description "GO aspect (F, P, or C)" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:aspect ] ;
    sh:targetClass gene_review:RuleGOAnnotation .

gene_review:RuleReviewEntry a sh:NodeShape ;
    sh:closed true ;
    sh:description "An entity in the rule - either a domain/family condition or a GO term target. Each entry tracks its relationships (predictions, predicted-by, equivalence) to other entries." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class gene_review:RelatedEntry ;
            sh:description "Relationships to other entries in the rule" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 7 ;
            sh:path gene_review:related_entries ],
        [ sh:datatype xsd:string ;
            sh:description "Human-readable name" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:label ],
        [ sh:datatype xsd:integer ;
            sh:description "Which condition sets (1-based) contain this entry (for domain conditions only)" ;
            sh:minInclusive 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:appears_in_condition_sets ],
        [ sh:description "Type of entry (INTERPRO, FUNFAM, PANTHER, GO_TERM, etc.)" ;
            sh:in ( "INTERPRO" "FUNFAM" "PANTHER" "GO_TERM" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 2 ;
            sh:path gene_review:type ],
        [ sh:datatype xsd:string ;
            sh:description "Source of this entry if external to the rule (e.g., 'ipr2go' for InterPro entries that map to the same GO term via InterPro2GO but are not part of any condition set)" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path gene_review:source ],
        [ sh:datatype xsd:string ;
            sh:description "GO terms that this entry maps to via external mappings (e.g., ipr2go). Only populated for external entries not in the rule's condition sets." ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path gene_review:asserted_predicted_go_terms ],
        [ sh:datatype xsd:string ;
            sh:description "Identifier (IPR005982, GO:0004791, 3.50.50.60:FF:000064, etc.)" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:id ],
        [ sh:datatype xsd:integer ;
            sh:description "Number of proteins matching this condition (from SwissProt)" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 4 ;
            sh:path gene_review:protein_count ] ;
    sh:targetClass gene_review:RuleReviewEntry .

gene_review:TaxonomicScopeAssessment a sh:NodeShape ;
    sh:closed true ;
    sh:description "Assessment of taxonomic restriction appropriateness" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Notes on taxonomic scope - suggested changes to taxon constraints" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:notes ],
        [ sh:class gene_review:SupportingTextInReference ;
            sh:description "Supporting text from literature for this assessment" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path gene_review:supported_by ],
        [ sh:description "Taxonomic scope assessment value" ;
            sh:in ( "TOO_BROAD" "APPROPRIATE" "TOO_NARROW" "MISSING" "UNNECESSARY" ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 0 ;
            sh:path gene_review:assessment ] ;
    sh:targetClass gene_review:TaxonomicScopeAssessment .

gene_review:TermMapping a sh:NodeShape ;
    sh:closed true ;
    sh:description "A mapping between the proposed term and an equivalent term in another ontology" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Mapping predicate (e.g., 'skos:exactMatch', 'skos:closeMatch', 'skos:broadMatch', 'skos:narrowMatch')" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:predicate ],
        [ sh:class gene_review:Term ;
            sh:description "The target term in another ontology" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 1 ;
            sh:path gene_review:target_term ] ;
    sh:targetClass gene_review:TermMapping .

gene_review:Reference a sh:NodeShape ;
    sh:closed true ;
    sh:description "A reference is a published text  that describes a finding or a method. References might be formal publications (where the ID is a PMID), or for methods, a GO_REF. Additionally, a reference to a local ad-hoc analysis or review can be made by using the `file:` prefix." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:boolean ;
            sh:description "Whether the full text is unavailable" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 4 ;
            sh:path gene_review:full_text_unavailable ],
        [ sh:class gene_review:Finding ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path gene_review:findings ],
        [ sh:datatype xsd:string ;
            sh:description "Title of the entity" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path dcterms:title ],
        [ sh:datatype xsd:boolean ;
            sh:description "Whether the reference is invalid (e.g., retracted or replaced)" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:is_invalid ],
        [ sh:datatype xsd:string ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:id ] ;
    sh:targetClass gene_review:Reference .

gene_review:SupportingTextInReference a sh:NodeShape ;
    sh:closed true ;
    sh:description "A supporting text in a reference." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Supporting text from the publication. This should be exact substrings. Different substrings can be broken up by '...'s. These substrings will be checked against the actual text of the paper. If editorialization is necessary, put this in square brackets (this is not checked). For example, you can say '...[CFAP300 shows] transport within cilia is IFT dependent...'" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path gene_review:supporting_text ],
        [ sh:description "Type of section in the reference (e.g., 'ABSTRACT', 'METHODS', 'RESULTS', 'DISCUSSION')" ;
            sh:in ( IAO:0000305 IAO:0000315 IAO:0000630 IAO:0000316 IAO:0000639 IAO:0000317 IAO:0000318 IAO:0000319 IAO:0000615 IAO:0000326 IAO:0000326 "DATABASE_ENTRY" "OTHER" ) ;
            sh:maxCount 1 ;
            sh:order 3 ;
            sh:path gene_review:reference_section_type ],
        [ sh:datatype xsd:boolean ;
            sh:description "Whether the full text is unavailable" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path gene_review:full_text_unavailable ],
        [ sh:class gene_review:Reference ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 0 ;
            sh:path gene_review:reference_id ] ;
    sh:targetClass gene_review:SupportingTextInReference .

gene_review:Term a sh:NodeShape ;
    sh:closed true ;
    sh:description "A term in a specific ontology" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "An OBO CURIE for a term in GO, CL, CHEBI, etc." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path gene_review:id ],
        [ sh:datatype xsd:string ;
            sh:description "the term name" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path rdfs:label ],
        [ sh:datatype xsd:string ;
            sh:description "Description of the entity" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path dcterms:description ],
        [ sh:datatype xsd:string ;
            sh:description "Ontology of the term. E.g `go`, `cl`, `hp`" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path gene_review:ontology ] ;
    sh:targetClass gene_review:Term .

