<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Gene Review - AI-Assisted Gene Annotation Curation</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #059669;
            --accent-color: #dc2626;
            --bg-color: #ffffff;
            --text-color: #1f2937;
            --border-color: #e5e7eb;
            --code-bg: #f3f4f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        nav {
            background: var(--code-bg);
            padding: 1rem 0;
            border-bottom: 2px solid var(--border-color);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        nav a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            background: var(--primary-color);
            color: white;
        }

        main {
            padding: 2rem 0;
        }

        section {
            margin-bottom: 3rem;
        }

        h2 {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        h3 {
            color: var(--secondary-color);
            font-size: 1.5rem;
            margin: 1.5rem 0 1rem 0;
        }

        h4 {
            color: var(--text-color);
            font-size: 1.2rem;
            margin: 1rem 0 0.5rem 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .feature-card h3 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .feature-emoji {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .workflow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .workflow-step {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            position: relative;
        }

        .workflow-step h4 {
            color: white;
            margin-bottom: 0.5rem;
        }

        .step-number {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem auto;
            font-weight: bold;
        }

        code {
            background: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
        }

        pre {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 5px 5px 0;
        }

        .validation-box {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border-left: 4px solid var(--secondary-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 5px 5px 0;
        }

        .warning-box {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 5px 5px 0;
        }

        .btn {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 0.5rem 0.5rem 0.5rem 0;
        }

        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--secondary-color);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
        }

        ul, ol {
            margin: 1rem 0 1rem 2rem;
        }

        li {
            margin: 0.5rem 0;
        }

        .stats-links {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        footer {
            background: var(--text-color);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }

            .workflow-steps {
                grid-template-columns: 1fr;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>üß¨ AI Gene Review</h1>
            <p>AI-assisted tool for reviewing and curating gene annotations</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#quickstart">Quick Start</a></li>
                <li><a href="#workflow">Workflow</a></li>
                <li><a href="#validation">Anti-Hallucination</a></li>
                <li><a href="#misannotation">Misannotation Analysis</a></li>
                <li><a href="#resources">Resources</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <section id="overview">
            <h2>Overview</h2>
            <p>The AI Gene Review tool helps researchers and curators review existing Gene Ontology (GO) annotations using strict, defined criteria. It provides a structured workflow for validating annotations using AI-driven analysis combined with literature research and bioinformatics evidence.</p>

            <div class="highlight-box">
                <strong>Key Goals:</strong> Review existing GO annotations, synthesize high-quality annotations from multiple evidence sources, fetch and organize gene data, validate annotation files, and manage references and supporting literature.
            </div>
        </section>

        <section id="features">
            <h2>Key Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-emoji">üß¨</div>
                    <h3>Multi-organism Support</h3>
                    <p>Human, mouse, worm, and other model organisms with unified annotation workflow</p>
                </div>
                <div class="feature-card">
                    <div class="feature-emoji">üìö</div>
                    <h3>Literature Integration</h3>
                    <p>Automatic PubMed citation fetching and caching with reference management</p>
                </div>
                <div class="feature-card">
                    <div class="feature-emoji">‚úÖ</div>
                    <h3>Schema Validation</h3>
                    <p>LinkML-based validation for consistency and structured data integrity</p>
                </div>
                <div class="feature-card">
                    <div class="feature-emoji">üõ°Ô∏è</div>
                    <h3>Anti-Hallucination Validation</h3>
                    <p>ID/label tuple checksums prevent AI fabrication of ontological terms</p>
                </div>
                <div class="feature-card">
                    <div class="feature-emoji">üîÑ</div>
                    <h3>Batch Processing</h3>
                    <p>Handle multiple genes efficiently with comprehensive reporting</p>
                </div>
                <div class="feature-card">
                    <div class="feature-emoji">üìä</div>
                    <h3>Structured Reviews</h3>
                    <p>YAML-based gene annotation reviews with detailed provenance tracking</p>
                </div>
                <div class="feature-card">
                    <div class="feature-emoji">üîç</div>
                    <h3>Evidence Tracking</h3>
                    <p>Detailed provenance and supporting text for all annotation decisions</p>
                </div>
                <div class="feature-card">
                    <div class="feature-emoji">‚ö†Ô∏è</div>
                    <h3>Misannotation Detection</h3>
                    <p>Computational analysis to identify potentially misannotated genes</p>
                </div>
            </div>
        </section>

        <section id="quickstart">
            <h2>Quick Start</h2>

            <h3>Installation</h3>
            <ol>
                <li>Install <a href="https://docs.astral.sh/uv/">uv</a> for dependency management</li>
                <li>Clone and install dependencies:</li>
            </ol>

            <pre><code>git clone https://github.com/cmungall/ai-gene-review.git
cd ai-gene-review
uv sync --group dev</code></pre>

            <h3>Basic Usage</h3>

            <h4>Fetch gene data:</h4>
            <pre><code>uv run ai-gene-review fetch-gene human TP53</code></pre>

            <h4>Validate a gene review file:</h4>
            <pre><code>uv run ai-gene-review validate genes/human/TP53/TP53-ai-review.yaml</code></pre>

            <h4>Generate validation reports with TSV output:</h4>
            <pre><code>just validate-all  # Creates reports/validation-all.tsv</code></pre>

            <h4>Fetch publications for a gene:</h4>
            <pre><code>uv run ai-gene-review fetch-gene-pmids genes/human/TP53/TP53-ai-review.yaml</code></pre>

            <h4>Generate statistics report:</h4>
            <pre><code>just stats          # Generate HTML report
just stats-open     # Generate and open in browser</code></pre>
        </section>

        <section id="workflow">
            <h2>Workflow Overview</h2>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <h4>Fetch Gene Data</h4>
                    <p>Download UniProt records and GO annotations</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <h4>Literature Research</h4>
                    <p>Gather supporting publications and evidence</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <h4>Create Review</h4>
                    <p>Structure annotations using the YAML schema</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <h4>Validate</h4>
                    <p>Check against LinkML schema and best practices</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <h4>Iterate</h4>
                    <p>Refine annotations based on validation results</p>
                </div>
            </div>
        </section>

        <section id="validation">
            <h2>Anti-Hallucination Validation</h2>

            <div class="validation-box">
                <p><strong>Novel Approach:</strong> The AI Gene Review system implements a robust anti-hallucination validation mechanism using ID/label tuple checksums to prevent AI systems from fabricating or misusing ontological terms.</p>
            </div>

            <h3>How It Works</h3>
            <p>Every ontology term requires both an <code>id</code> (semantic identifier) and <code>label</code> (human-readable name):</p>

            <pre><code>term:
  id: GO:0005515      # Ontology identifier
  label: protein binding  # Canonical label</code></pre>

            <h3>Validation Process</h3>
            <p>The <code>TermValidator</code> performs multi-layer validation:</p>
            <ol>
                <li><strong>Format Validation:</strong> Ensures IDs follow proper CURIE patterns</li>
                <li><strong>Existence Validation:</strong> Verifies terms exist in authoritative ontologies</li>
                <li><strong>Label Matching:</strong> Cross-references provided labels against canonical labels</li>
                <li><strong>Branch Validation:</strong> Ensures GO terms are in correct ontological branches</li>
                <li><strong>Obsolescence Checking:</strong> Flags outdated terms</li>
            </ol>

            <h3>Why This Prevents Hallucination</h3>
            <ul>
                <li>‚úÖ <strong>Dual Verification:</strong> Both ID and label must be correct and consistent</li>
                <li>‚úÖ <strong>External Truth Source:</strong> Validates against authoritative ontologies</li>
                <li>‚úÖ <strong>Real-time Checking:</strong> Uses live API calls to catch fabricated terms</li>
                <li>‚úÖ <strong>Semantic Consistency:</strong> Ensures terms make sense in context</li>
            </ul>

            <h3>Supported Ontologies</h3>
            <p>The validator supports 10+ major ontologies including GO, HP, MONDO, CL, UBERON, CHEBI, PR, SO, PATO, and NCBITaxon.</p>
        </section>

        <section id="misannotation">
            <h2>Misannotation Analysis</h2>

            <div class="warning-box">
                <p><strong>Computational Detection:</strong> New framework inspired by research showing 78% of enzyme annotations may be incorrect. Identifies potentially misannotated genes using sequence similarity and domain architecture analysis.</p>
            </div>

            <h3>Analysis Framework</h3>
            <p>Located in <code>analysis/misannotation/</code> with dedicated tools:</p>

            <h4>Quick Test Commands:</h4>
            <pre><code>cd analysis/misannotation

# Quick test with single gene (fast)
just test-quick human TP53

# Full analysis with BLAST (slower)
just analyze-sequence human
just analyze-domains human
just analyze-full human

# Generate summary report
just summarize-risk</code></pre>

            <h3>Risk Assessment</h3>
            <ul>
                <li><strong>HIGH Risk:</strong> &lt;25% sequence identity with characterized proteins</li>
                <li><strong>MEDIUM Risk:</strong> 25-50% sequence identity</li>
                <li><strong>LOW Risk:</strong> &gt;50% sequence identity with consistent domains</li>
            </ul>

            <h3>Output Formats</h3>
            <ul>
                <li><strong>JSON reports:</strong> Detailed analysis per gene</li>
                <li><strong>TSV summaries:</strong> Easy filtering and analysis</li>
                <li><strong>Risk categorization:</strong> HIGH/MEDIUM/LOW classifications</li>
            </ul>
        </section>

        <section id="resources">
            <h2>Resources & Links</h2>

            <div class="stats-links">
                <a href="https://monarch-initiative.github.io/ai-gene-review" class="btn">üìñ Documentation</a>
                <a href="https://ai4curation.github.io/ai-gene-review/app/index.html" class="btn btn-secondary">üåê Interactive Web App</a>
                <a href="https://ai4curation.github.io/ai-gene-review/docs/stats_report.html" class="btn">üìä Statistics Dashboard</a>
                <a href="https://docs.google.com/presentation/d/1xBFIQE0jt7K6kFg4zFzUwLDHtnDWat2ZVDarhcpA3_4/edit" class="btn btn-secondary">üéØ Slide Overview</a>
            </div>

            <h3>Gene Review Structure</h3>
            <p>Each gene review follows a structured YAML format containing:</p>
            <ul>
                <li><strong>Gene metadata:</strong> UniProt ID, gene symbol, taxon information</li>
                <li><strong>Description:</strong> Comprehensive summary of gene function</li>
                <li><strong>References:</strong> Literature and bioinformatics sources</li>
                <li><strong>Existing annotations:</strong> Review of current GO annotations with actions</li>
                <li><strong>Core functions:</strong> Curated essential gene functions</li>
            </ul>

            <h3>Example Data</h3>
            <p>The repository includes example gene reviews for:</p>
            <ul>
                <li><strong>Human:</strong> BRCA1, CFAP300, RBFOX3, TP53</li>
                <li><strong>Mouse:</strong> Various examples</li>
                <li><strong>Worm:</strong> lrx-1</li>
            </ul>

            <h3>Developer Tools</h3>
            <p>Available commands using <a href="https://github.com/casey/just/">just</a> command runner:</p>
            <pre><code>just --list           # Show all available commands
just test             # Run tests, type checking, and linting
just format           # Run code formatting checks
just install          # Install project dependencies
just validate-all     # Validate all genes with TSV output</code></pre>
        </section>

        <section>
            <h2>Case Study: PedH Lanthanide-Dependent Alcohol Dehydrogenase</h2>
            <div class="highlight-box">
                <h4>Key Discoveries from AI-Assisted Review:</h4>
                <ol>
                    <li><strong>Lanthanide vs Calcium Dependency:</strong> Corrected misannotation from "calcium ion binding" to lanthanide dependency</li>
                    <li><strong>Cellular Localization Precision:</strong> Identified as soluble periplasmic enzyme, not membrane-associated</li>
                    <li><strong>Dual Functional Roles:</strong> Both metabolic enzyme and regulatory sensor</li>
                    <li><strong>Missing GO Terms:</strong> Revealed gaps in ontology coverage</li>
                </ol>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 AI Gene Review Project. Uses template <a href="https://github.com/monarch-initiative/monarch-project-copier">monarch-project-copier</a></p>
        </div>
    </footer>
</body>
</html>